# Comparing `tmp/mariqt_widgets-0.3.4-py2.py3-none-any.whl.zip` & `tmp/mariqt_widgets-0.3.5-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,17 +1,17 @@
-Zip file size: 46368 bytes, number of entries: 15
--rw-r--r--  2.0 unx      128 b- defN 23-Aug-01 15:59 mariqt_widgets/__init__.py
--rw-r--r--  2.0 unx   106778 b- defN 23-Aug-01 15:59 mariqt_widgets/ifdo_create.py
--rw-r--r--  2.0 unx     9430 b- defN 23-Aug-01 15:59 mariqt_widgets/ifdo_excel.py
--rw-r--r--  2.0 unx    52527 b- defN 23-Aug-01 15:59 mariqt_widgets/notebook_widgets.py
--rw-rw-rw-  2.0 unx     1520 b- defN 23-Aug-01 15:59 mariqt_widgets/icons/checkbox-circle-line_gray.png
--rw-rw-rw-  2.0 unx     1525 b- defN 23-Aug-01 15:59 mariqt_widgets/icons/checkbox-circle-line_green.png
--rw-rw-rw-  2.0 unx     1502 b- defN 23-Aug-01 15:59 mariqt_widgets/icons/error-warning-line_gray.png
--rw-rw-rw-  2.0 unx     1513 b- defN 23-Aug-01 15:59 mariqt_widgets/icons/error-warning-line_orange.png
--rw-rw-rw-  2.0 unx     1470 b- defN 23-Aug-01 15:59 mariqt_widgets/icons/error-warning-line_red.png
--rw-rw-rw-  2.0 unx      118 b- defN 23-Aug-01 15:59 mariqt_widgets-0.3.4.dist-info/AUTHORS.md
--rw-rw-rw-  2.0 unx     1506 b- defN 23-Aug-01 15:59 mariqt_widgets-0.3.4.dist-info/LICENSE
--rw-r--r--  2.0 unx     1443 b- defN 23-Aug-01 15:59 mariqt_widgets-0.3.4.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 23-Aug-01 15:59 mariqt_widgets-0.3.4.dist-info/WHEEL
--rw-r--r--  2.0 unx       15 b- defN 23-Aug-01 15:59 mariqt_widgets-0.3.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1397 b- defN 23-Aug-01 15:59 mariqt_widgets-0.3.4.dist-info/RECORD
-15 files, 180982 bytes uncompressed, 44010 bytes compressed:  75.7%
+Zip file size: 46479 bytes, number of entries: 15
+-rw-r--r--  2.0 unx      128 b- defN 23-Aug-02 08:45 mariqt_widgets/__init__.py
+-rw-r--r--  2.0 unx   106778 b- defN 23-Aug-02 08:45 mariqt_widgets/ifdo_create.py
+-rw-r--r--  2.0 unx     9749 b- defN 23-Aug-02 08:45 mariqt_widgets/ifdo_excel.py
+-rw-r--r--  2.0 unx    52527 b- defN 23-Aug-02 08:45 mariqt_widgets/notebook_widgets.py
+-rw-rw-rw-  2.0 unx     1520 b- defN 23-Aug-02 08:45 mariqt_widgets/icons/checkbox-circle-line_gray.png
+-rw-rw-rw-  2.0 unx     1525 b- defN 23-Aug-02 08:45 mariqt_widgets/icons/checkbox-circle-line_green.png
+-rw-rw-rw-  2.0 unx     1502 b- defN 23-Aug-02 08:45 mariqt_widgets/icons/error-warning-line_gray.png
+-rw-rw-rw-  2.0 unx     1513 b- defN 23-Aug-02 08:45 mariqt_widgets/icons/error-warning-line_orange.png
+-rw-rw-rw-  2.0 unx     1470 b- defN 23-Aug-02 08:45 mariqt_widgets/icons/error-warning-line_red.png
+-rw-rw-rw-  2.0 unx      118 b- defN 23-Aug-02 08:46 mariqt_widgets-0.3.5.dist-info/AUTHORS.md
+-rw-rw-rw-  2.0 unx     1506 b- defN 23-Aug-02 08:46 mariqt_widgets-0.3.5.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1443 b- defN 23-Aug-02 08:46 mariqt_widgets-0.3.5.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-Aug-02 08:46 mariqt_widgets-0.3.5.dist-info/WHEEL
+-rw-r--r--  2.0 unx       15 b- defN 23-Aug-02 08:46 mariqt_widgets-0.3.5.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1397 b- defN 23-Aug-02 08:46 mariqt_widgets-0.3.5.dist-info/RECORD
+15 files, 181301 bytes uncompressed, 44121 bytes compressed:  75.7%
```

## zipnote {}

```diff
@@ -21,26 +21,26 @@
 
 Filename: mariqt_widgets/icons/error-warning-line_orange.png
 Comment: 
 
 Filename: mariqt_widgets/icons/error-warning-line_red.png
 Comment: 
 
-Filename: mariqt_widgets-0.3.4.dist-info/AUTHORS.md
+Filename: mariqt_widgets-0.3.5.dist-info/AUTHORS.md
 Comment: 
 
-Filename: mariqt_widgets-0.3.4.dist-info/LICENSE
+Filename: mariqt_widgets-0.3.5.dist-info/LICENSE
 Comment: 
 
-Filename: mariqt_widgets-0.3.4.dist-info/METADATA
+Filename: mariqt_widgets-0.3.5.dist-info/METADATA
 Comment: 
 
-Filename: mariqt_widgets-0.3.4.dist-info/WHEEL
+Filename: mariqt_widgets-0.3.5.dist-info/WHEEL
 Comment: 
 
-Filename: mariqt_widgets-0.3.4.dist-info/top_level.txt
+Filename: mariqt_widgets-0.3.5.dist-info/top_level.txt
 Comment: 
 
-Filename: mariqt_widgets-0.3.4.dist-info/RECORD
+Filename: mariqt_widgets-0.3.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## mariqt_widgets/__init__.py

```diff
@@ -1,5 +1,5 @@
 """Top-level package for mariqt_widgets."""
 
 __author__ = """Karl Heger"""
 __email__ = 'kheger@geomar.de'
-__version__ = '0.3.4'
+__version__ = '0.3.5'
```

## mariqt_widgets/ifdo_excel.py

```diff
@@ -65,61 +65,26 @@
     df = pd.DataFrame(trunciFDODicts).transpose()
     print("imported",i,"iFDOs")
 
     # create field explanation sheet
     fieldExpl = []
     ifdo_fields = miqtv.ifdo_schema['$defs']['iFDO-fields']['properties']
     for field in output_fields:
-        # if 'valid' in miqtv.ifdo_fields[field]:
-        #     allow_values = str( miqtv.ifdo_fields[field]['valid'])
-        # elif 'dataType' in miqtv.ifdo_fields[field]:
-        #     allow_values = str( miqtv.ifdo_fields[field]['dataType']).replace('dataTypes.','')
-        # else:
-        #     allow_values = "text"
 
         allow_values = _get_allowed_values(ifdo_fields[field])
 
         fieldExpl.append([field,allow_values,ifdo_fields[field]['description']])
         #fieldExpl.append([field,allow_values,miqtv.ifdo_fields[field]['comment']])
     df_fieldExpl = pd.DataFrame(fieldExpl,columns=['iFDO fields','Allowed values','Explanation'])
 
     # create a excel writer object
-    with pd.ExcelWriter(output_file,engine='xlsxwriter') as writer:
-
-        workbook  = writer.book
-        format = workbook.add_format()
-        format.set_align('left')
-
-        df.style.applymap(lambda _: 'vertical-align: top').to_excel(writer,header=False,sheet_name="Stations")
-        df_fieldExpl.style.applymap(lambda _: 'vertical-align: top').to_excel(writer,sheet_name="Field Explanation",index=False)
-
-        worksheet = writer.sheets["Stations"]
-        worksheet.set_column(0, i, 40)
+    _write_ifdo_df_to_excel(output_file,df_ifdo=df,df_field_expl=df_fieldExpl)
 
     print("Wrote to",output_file)
 
-def _get_allowed_values(obj:dict):
-    type = obj['type']
-    ret = type
-    if type != 'object':
-        for field in obj:
-            if field != 'type' and field != 'description':
-                if field == 'enum':
-                    ret = str(obj[field])
-                    break
-                ret += ", " + field + ": " + str(obj[field])
-    else:
-        sub_ret = ""
-        for sub_field in obj['properties']:
-            sub_ret += sub_field + ": " + _get_allowed_values(obj['properties'][sub_field]) + ", "
-        ret = 'dict {' + sub_ret + "}"
-    return ret
-
-
-
 
 def ifdo_update_from_excel(input_excel_file:str, ifdo_file:str, sheet_name:str,ignore_sub_dirs:list=['raw','protocol','intermediate','extern','processed']):
     """ Updates iFDO's header fields from an Excel sheet.
     input_excel_file: input Excel file (generate with *iFDO_exportToExcel.ipynb* and edit)
     ifdo_file: iFDO file to be updated. If is not file but dir, dir is scanned for ifdo files, applying ignore_sub_dirs
     sheet_name: name of the sheet in the input Excel file containing the respective data """
 
@@ -223,19 +188,56 @@
     df = df.replace('<br />','\n', regex=True)
 
     if output_file is None:
         output_file = miqtff.changeFileExtension(input_md_file,'xlsx')
     if not overwrite and os.path.isfile(output_file):
         raise Exception("File exists: " + output_file)
 
-    with pd.ExcelWriter(output_file,engine='xlsxwriter') as writer:
+    _write_ifdo_df_to_excel(output_file,df_ifdo=df)
+
+    return output_file
+
+
+def _write_ifdo_df_to_excel(output_file:str,
+                            df_ifdo:pd.DataFrame, ifdo_sheet_name:str="Stations",ifdo_col_width:int=40,
+                            df_field_expl:pd.DataFrame=None, field_expl_sheet_name:str="Field Explanation",field_expl_col_width:int=40,):
+     
+     with pd.ExcelWriter(output_file,engine='xlsxwriter') as writer:
 
         workbook  = writer.book
         format = workbook.add_format()
         format.set_align('left')
 
-        df.style.applymap(lambda _: 'vertical-align: top').to_excel(writer,header=False,sheet_name="Stations")
+        # ifdo sheet
+        df_ifdo.style.applymap(lambda _: 'vertical-align: top').to_excel(writer,header=False,sheet_name=ifdo_sheet_name)
+        worksheet = writer.sheets[ifdo_sheet_name]
+        worksheet.set_column(0, len(df_ifdo.columns), 40)
+
+        # field explantion sheet
+        if not df_field_expl is None:
+            df_field_expl.style.applymap(lambda _: 'vertical-align: top').to_excel(writer,sheet_name=field_expl_sheet_name,index=False)
+            worksheet = writer.sheets[field_expl_sheet_name]
+            worksheet.set_column(0, len(df_field_expl.columns), 40)
 
-        worksheet = writer.sheets["Stations"]
-        worksheet.set_column(0, len(df.columns) , 40)
 
-    return output_file
+def _get_allowed_values(obj:dict):
+    type = obj['type']
+    ret = type
+    if type != 'object':
+        further_prop = []
+        for field in obj:
+            if field != 'type' and field != 'description': #and field != 'format':
+                if field == 'enum':
+                    ret = str(obj[field])
+                    break
+                further_prop.append(field + ": " + str(obj[field]))
+                #ret += ", " + field + ": " + str(obj[field])
+        if len(further_prop) != 0:
+            ret += '(' + ', '.join(further_prop) + ')'
+    else:
+        #sub_ret = ""
+        sub_ret = []
+        for sub_field in obj['properties']:
+            #sub_ret += sub_field + ": " + _get_allowed_values(obj['properties'][sub_field]) + ", "
+            sub_ret.append(sub_field + ": " + _get_allowed_values(obj['properties'][sub_field]))
+        ret = 'dict {' + ', '.join(sub_ret) + "}"
+    return ret
```

## Comparing `mariqt_widgets-0.3.4.dist-info/LICENSE` & `mariqt_widgets-0.3.5.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `mariqt_widgets-0.3.4.dist-info/METADATA` & `mariqt_widgets-0.3.5.dist-info/METADATA`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: mariqt-widgets
-Version: 0.3.4
+Version: 0.3.5
 Summary: Contains widgets commonly used by MarIQT Notebooks.
 Home-page: https://codebase.helmholtz.cloud/datahub/marehub/ag-videosimages/mariqt-notebook-widgets
 Author: Karl Heger
 Author-email: kheger@geomar.de
 License: GNU General Public License v3
 Keywords: mariqt_widgets
 Classifier: Development Status :: 2 - Pre-Alpha
```

## Comparing `mariqt_widgets-0.3.4.dist-info/RECORD` & `mariqt_widgets-0.3.5.dist-info/RECORD`

 * *Files 15% similar despite different names*

```diff
@@ -1,15 +1,15 @@
-mariqt_widgets/__init__.py,sha256=-kRnT1GxDl7FGDaBU0ojzJ6yjPDMcah2eJeRZ6OSf2o,128
+mariqt_widgets/__init__.py,sha256=qiD4luBXN9wfs4NHZY4PMEdkW2Pb-5ZiIlec0wmACsA,128
 mariqt_widgets/ifdo_create.py,sha256=wAIHtV-BUXDjkejfeByag1AnMaZjHjsVscDmc_6KytM,106778
-mariqt_widgets/ifdo_excel.py,sha256=YyaCyip6D08WIVLSGI2-IVx2EvdDrO9o5IjGvfJjDMw,9430
+mariqt_widgets/ifdo_excel.py,sha256=tC4lXPSUy2jUdNrwJ1Jc5wJ2PeZLEPIu9xkGUBG0Zok,9749
 mariqt_widgets/notebook_widgets.py,sha256=bxTtpXjtKM5qRAk_O5vdKl8Ge0fydtscrTwEZd9JxXg,52527
 mariqt_widgets/icons/checkbox-circle-line_gray.png,sha256=RaFzsWg0opiHsSYaOP61cLgu36lVDLnwyNUsJwMhnww,1520
 mariqt_widgets/icons/checkbox-circle-line_green.png,sha256=jHZmxJJLY-7dMGDUxBYAkBCFySeS05DQPbAd7vmX49s,1525
 mariqt_widgets/icons/error-warning-line_gray.png,sha256=_ZjMCCHce_zdD9QekKubV66bHwicRIY1ncjy1O8wTmE,1502
 mariqt_widgets/icons/error-warning-line_orange.png,sha256=3Jt4GaLi-mHRPDz9lLHbwwvUaG2gttT-J90WquqXMNk,1513
 mariqt_widgets/icons/error-warning-line_red.png,sha256=gF0m6xbCcX1LQ0kwjIkPln6eLGOL9dSF2h4rqEjU0HU,1470
-mariqt_widgets-0.3.4.dist-info/AUTHORS.md,sha256=fHR702RktmLjB6uJ0FIzG-DTjVXU4tQ4mFh0jeBP-Ns,118
-mariqt_widgets-0.3.4.dist-info/LICENSE,sha256=OHxJeWWJWP1rrSwBbdFqDnWwhFn2dM_2L7mtXcqSh-c,1506
-mariqt_widgets-0.3.4.dist-info/METADATA,sha256=zawf3EKiy88msrX2WmjXbEOl5dfcWEUv-42W9ptaSJQ,1443
-mariqt_widgets-0.3.4.dist-info/WHEEL,sha256=k3vXr0c0OitO0k9eCWBlI2yTYnpb_n_I2SGzrrfY7HY,110
-mariqt_widgets-0.3.4.dist-info/top_level.txt,sha256=Ul1udsokY_DyTjF0ePRHxZjs46MX931t8CKpdL2oDTc,15
-mariqt_widgets-0.3.4.dist-info/RECORD,,
+mariqt_widgets-0.3.5.dist-info/AUTHORS.md,sha256=fHR702RktmLjB6uJ0FIzG-DTjVXU4tQ4mFh0jeBP-Ns,118
+mariqt_widgets-0.3.5.dist-info/LICENSE,sha256=OHxJeWWJWP1rrSwBbdFqDnWwhFn2dM_2L7mtXcqSh-c,1506
+mariqt_widgets-0.3.5.dist-info/METADATA,sha256=4GJMwAiNdb4BK-016hbkXfVw8l9ZX_XpZq9cZZBj27M,1443
+mariqt_widgets-0.3.5.dist-info/WHEEL,sha256=k3vXr0c0OitO0k9eCWBlI2yTYnpb_n_I2SGzrrfY7HY,110
+mariqt_widgets-0.3.5.dist-info/top_level.txt,sha256=Ul1udsokY_DyTjF0ePRHxZjs46MX931t8CKpdL2oDTc,15
+mariqt_widgets-0.3.5.dist-info/RECORD,,
```

