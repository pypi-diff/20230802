# Comparing `tmp/dpt3.0-dptdb-0.7.3.zip` & `tmp/dpt3.0-dptdb-0.8.0.zip`

## zipinfo {}

```diff
@@ -1,25 +1,24 @@
-Zip file size: 39397 bytes, number of entries: 23
-drwxrwxrwx  2.0 fat        0 b- stor 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/
-drwxrwxrwx  2.0 fat        0 b- stor 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/
-drwxrwxrwx  2.0 fat        0 b- stor 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/dptdb/
-drwxrwxrwx  2.0 fat        0 b- stor 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/test/
--rw-rw-rw-  2.0 fat       28 b- defN 19-Nov-28 00:04 dpt3.0-dptdb-0.7.3/CONTACT
--rw-rw-rw-  2.0 fat    10052 b- defN 19-Dec-03 10:53 dpt3.0-dptdb-0.7.3/dptMakefile
--rw-rw-rw-  2.0 fat     3103 b- defN 19-Dec-01 23:46 dpt3.0-dptdb-0.7.3/dptversion.py
--rw-rw-rw-  2.0 fat      255 b- defN 19-Nov-28 00:04 dpt3.0-dptdb-0.7.3/extend_dptapi_python
--rw-rw-rw-  2.0 fat     1491 b- defN 19-Nov-28 00:04 dpt3.0-dptdb-0.7.3/LICENCE
--rw-rw-rw-  2.0 fat     1567 b- defN 19-Dec-03 15:25 dpt3.0-dptdb-0.7.3/licence.txt
--rw-rw-rw-  2.0 fat      687 b- defN 19-Nov-28 22:20 dpt3.0-dptdb-0.7.3/MANIFEST.in
--rw-rw-rw-  2.0 fat    11879 b- defN 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/PKG-INFO
--rw-rw-rw-  2.0 fat     9162 b- defN 19-Dec-03 10:53 dpt3.0-dptdb-0.7.3/README.txt
--rw-rw-rw-  2.0 fat       42 b- defN 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/setup.cfg
--rw-rw-rw-  2.0 fat    38903 b- defN 19-Dec-03 10:53 dpt3.0-dptdb-0.7.3/setup.py
--rw-rw-rw-  2.0 fat     2079 b- defN 19-Dec-03 10:53 dpt3.0-dptdb-0.7.3/_wine_setup.py
--rw-rw-rw-  2.0 fat        1 b- defN 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/dependency_links.txt
--rw-rw-rw-  2.0 fat        2 b- defN 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/not-zip-safe
--rw-rw-rw-  2.0 fat    11879 b- defN 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/PKG-INFO
--rw-rw-rw-  2.0 fat      337 b- defN 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/SOURCES.txt
--rw-rw-rw-  2.0 fat        6 b- defN 19-Dec-03 15:29 dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/top_level.txt
--rw-rw-rw-  2.0 fat      338 b- defN 19-Nov-28 22:20 dpt3.0-dptdb-0.7.3/dptdb/__init__.py
--rw-rw-rw-  2.0 fat    36767 b- defN 17-Feb-13 08:43 dpt3.0-dptdb-0.7.3/test/pydpt-test.py
-23 files, 128578 bytes uncompressed, 36011 bytes compressed:  72.0%
+Zip file size: 33143 bytes, number of entries: 22
+drwxrwxrwx  2.0 fat        0 b- stor 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/
+drwxrwxrwx  2.0 fat        0 b- stor 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/
+drwxrwxrwx  2.0 fat        0 b- stor 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/dptdb/
+drwxrwxrwx  2.0 fat        0 b- stor 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/test/
+-rw-rw-rw-  2.0 fat       28 b- defN 19-Nov-28 00:04 dpt3.0-dptdb-0.8.0/CONTACT
+-rw-rw-rw-  2.0 fat    10749 b- defN 23-Jun-11 14:58 dpt3.0-dptdb-0.8.0/dptMakefile
+-rw-rw-rw-  2.0 fat     3103 b- defN 23-Aug-02 12:58 dpt3.0-dptdb-0.8.0/dptversion.py
+-rw-rw-rw-  2.0 fat      255 b- defN 19-Nov-28 00:04 dpt3.0-dptdb-0.8.0/extend_dptapi_python
+-rw-rw-rw-  2.0 fat     1491 b- defN 19-Nov-28 00:04 dpt3.0-dptdb-0.8.0/LICENCE
+-rw-rw-rw-  2.0 fat     1567 b- defN 23-Aug-02 13:15 dpt3.0-dptdb-0.8.0/licence.txt
+-rw-rw-rw-  2.0 fat      687 b- defN 19-Nov-28 22:20 dpt3.0-dptdb-0.8.0/MANIFEST.in
+-rw-rw-rw-  2.0 fat     5455 b- defN 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/PKG-INFO
+-rw-rw-rw-  2.0 fat     4708 b- defN 23-Jun-12 10:02 dpt3.0-dptdb-0.8.0/README.txt
+-rw-rw-rw-  2.0 fat       42 b- defN 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/setup.cfg
+-rw-rw-rw-  2.0 fat    30456 b- defN 23-Aug-02 13:14 dpt3.0-dptdb-0.8.0/setup.py
+-rw-rw-rw-  2.0 fat        1 b- defN 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/dependency_links.txt
+-rw-rw-rw-  2.0 fat        2 b- defN 23-Aug-02 13:21 dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/not-zip-safe
+-rw-rw-rw-  2.0 fat     5455 b- defN 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/PKG-INFO
+-rw-rw-rw-  2.0 fat      322 b- defN 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/SOURCES.txt
+-rw-rw-rw-  2.0 fat        6 b- defN 23-Aug-02 14:12 dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/top_level.txt
+-rw-rw-rw-  2.0 fat      338 b- defN 19-Nov-28 22:20 dpt3.0-dptdb-0.8.0/dptdb/__init__.py
+-rw-rw-rw-  2.0 fat    36767 b- defN 17-Feb-13 08:43 dpt3.0-dptdb-0.8.0/test/pydpt-test.py
+22 files, 101432 bytes uncompressed, 29899 bytes compressed:  70.5%
```

## zipnote {}

```diff
@@ -1,70 +1,67 @@
-Filename: dpt3.0-dptdb-0.7.3/
+Filename: dpt3.0-dptdb-0.8.0/
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/
+Filename: dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dptdb/
+Filename: dpt3.0-dptdb-0.8.0/dptdb/
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/test/
+Filename: dpt3.0-dptdb-0.8.0/test/
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/CONTACT
+Filename: dpt3.0-dptdb-0.8.0/CONTACT
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dptMakefile
+Filename: dpt3.0-dptdb-0.8.0/dptMakefile
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dptversion.py
+Filename: dpt3.0-dptdb-0.8.0/dptversion.py
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/extend_dptapi_python
+Filename: dpt3.0-dptdb-0.8.0/extend_dptapi_python
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/LICENCE
+Filename: dpt3.0-dptdb-0.8.0/LICENCE
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/licence.txt
+Filename: dpt3.0-dptdb-0.8.0/licence.txt
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/MANIFEST.in
+Filename: dpt3.0-dptdb-0.8.0/MANIFEST.in
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/PKG-INFO
+Filename: dpt3.0-dptdb-0.8.0/PKG-INFO
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/README.txt
+Filename: dpt3.0-dptdb-0.8.0/README.txt
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/setup.cfg
+Filename: dpt3.0-dptdb-0.8.0/setup.cfg
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/setup.py
+Filename: dpt3.0-dptdb-0.8.0/setup.py
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/_wine_setup.py
+Filename: dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/dependency_links.txt
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/dependency_links.txt
+Filename: dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/not-zip-safe
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/not-zip-safe
+Filename: dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/PKG-INFO
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/PKG-INFO
+Filename: dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/SOURCES.txt
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/SOURCES.txt
+Filename: dpt3.0-dptdb-0.8.0/dpt3.0_dptdb.egg-info/top_level.txt
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dpt3.0_dptdb.egg-info/top_level.txt
+Filename: dpt3.0-dptdb-0.8.0/dptdb/__init__.py
 Comment: 
 
-Filename: dpt3.0-dptdb-0.7.3/dptdb/__init__.py
-Comment: 
-
-Filename: dpt3.0-dptdb-0.7.3/test/pydpt-test.py
+Filename: dpt3.0-dptdb-0.8.0/test/pydpt-test.py
 Comment: 
 
 Zip file comment:
```

## Comparing `dpt3.0-dptdb-0.7.3/dptMakefile` & `dpt3.0-dptdb-0.8.0/dptMakefile`

 * *Files 8% similar despite different names*

```diff
@@ -37,32 +37,34 @@
 ### highlight relationships.
 ### The host 'sed' is used, rather than '$(WINE) sed', to avoid the backslash
 ### minefield sown by the chain of shells .
 
 PYTHON_RUNNING_MAKE ?= 
 
 ### Fundamental settings for Python builds
+### The MinGW, Msys2, and Cygwin environments have the name g++ in common
+### for their compilers.
+### The build will be done with the Python in the Msys2 or Cygwin environment.
+### The Windows Python, an *.exe downloadable from python.org, cannot be used
+### and will be ignored. Currently set for Windows though.
 
 PACKAGE_NAME = dptdb
-PYTHON_VERSION ?= 33
-PATH_TO_PYTHON ?= C:/Python33
-PYTHON_INCLUDE_SUFFIX ?= /include
-PATH_TO_SWIG ?= C:/swigwin-4.0.1
+PYTHON_VERSION ?= 3.10
 PATH_TO_CXX ?= 
-COMPILER = mingw32-g++
+COMPILER = g++
 SWIG_PYTHON = python
 GCC_VERSION_PATCHING ?= true
-WINE ?=
 
 ### Common settings
+### -fpermissive added for mingw32-10.3.0
 
 CXX = $(PATH_TO_CXX)$(COMPILER)
 DEFOPTS = $(DEFINES) $(OPTIONS)
 CXXEXTRA = \
-   -D_BBDBAPI
+   -D_BBDBAPI -fpermissive
 DPT_STDAFX = stdafx
 DPT_BASE ?= ../dptextract
 DPT_INCLUDE = -Iinclude -I$(DPT_STDAFX)
 DPTAPI_INCLUDE = -Iinclude -Iinclude/dbapi -I$(DPT_STDAFX)
 DPTAFX_INCLUDE = -Iinclude -I$(DPT_STDAFX)
 DPT_LDFLAGS = -shared
 
@@ -78,19 +80,19 @@
 
 ### SWIG settings
 
 SWIG_DPTAPI = dptapi
 
 ### Python settings
 
-PYTHON_INCLUDE = $(PATH_TO_PYTHON)$(PYTHON_INCLUDE_SUFFIX)
+PYTHON_INCLUDE = $(MSYSTEM_PREFIX)/include/$(SWIG_PYTHON)$(PYTHON_VERSION)
 PYTHON_LIBRARY = $(SWIG_PYTHON)$(PYTHON_VERSION)
 PYTHON_API_INCLUDE = -Iinclude/dbapi -Iinclude -I$(PYTHON_INCLUDE)
 PYTHON_API_DLL = ../_$(SWIG_DPTAPI).pyd
-PYTHON_LIBS = -l$(PYTHON_LIBRARY) -L$(PATH_TO_PYTHON)/libs
+PYTHON_LIBS = -l$(PYTHON_LIBRARY) -L$(MSYSTEM_PREFIX)/bin
 
 ### Patches
 
 ### No patch files applied in this Makefile
 
 ### Sources
 
@@ -194,15 +196,15 @@
 ### python documentation suggests that distutils may be able to do the whole
 ### build while admitting that its SWIG interface is flaky.
 
 ### setup.py gets this Makefile to do the build but does install and uninstall
 ### itself.
 
 $(PYTHON_API_DLL) : $(SWIG_DPTAPI)_$(SWIG_PYTHON)_wrap.o
-	$(WINE) $(CXX) $(DPT_LDFLAGS) -o $@ $< $(DPTAPI_OBJS) $(DPT_OBJS) $(SWIG_LANG_LIBS)
+	$(CXX) $(DPT_LDFLAGS) -o $@ $< $(DPTAPI_OBJS) $(DPT_OBJS) $(SWIG_LANG_LIBS)
 
 ### Pattern rules DPT C++
 
 ### Normalize path element separators in #include directives as '/' for *nix
 ### build environment.  There are only a few files which do not comply, but do
 ### it always anyway for simplicity.
 
@@ -213,25 +215,35 @@
 ### https://stackoverflow.com/questions/32443181/stdmake-pair-with-c-11
 ### and there are many others (neither of these are the ones found first time).
 ### MinGW-6.3.0 on Windows builds give warnings in two modules that 'in c++11
 ### destructors default to noexcept'.  The raise exception behaviour in the two
 ### classes affected is retained by adding an edit to all DPT_SRC and DPT_INC
 ### files.  https://gcc.gnu.org/bugzilla/show_bug.cgi?id=56191 was sufficient
 ### as a hint to the edit needed.
+### mingw32-10.3.0 fails binding 'non-const lvalue ...' in FindNext method.
+### MinGW-9.3.0 seems ok, like MinGW-8-*-*, in this respect.
 
 $(DPT_SRC)/%.cpp : $(DPT_BASE)/$(DPT_SRC)/%.cpp
 	sed -e '/#include .*.h/s/\\/\//g' \
 	-e '/std::make_pair</s/make_//g' \
 	-e '/~AllocatedFile()/s/()/() noexcept(false)/g' \
-	-e '/~PagedFile()/s/()/() noexcept(false)/g' $< > $@
+	-e '/~PagedFile()/s/()/() noexcept(false)/g' \
+	-e '/unsigned int irelrec = relrec;/s/unsigned int/size_t/g' \
+	-e '/unsigned int lastrec;/s/unsigned int/size_t/g' \
+	-e '/unsigned int temp;/s/unsigned int/size_t/g' \
+	-e '/unsigned int bit = 0;/s/unsigned int/size_t/g' \
+	-e '/unsigned int singlerec;/s/unsigned int/size_t/g' \
+        -e '/addr > 0/s/addr/(unsigned long)addr/g' \
+	$< > $@
 
 $(DPT_INC)/%.h : $(DPT_BASE)/$(DPT_INC)/%.h
 	sed -e '/#include .*.h/s/\\/\//g' \
 	-e '/~AllocatedFile()/s/()/() noexcept(false)/g' \
-	-e '/~PagedFile()/s/()/() noexcept(false)/g' $< > $@
+	-e '/~PagedFile()/s/()/() noexcept(false)/g' \
+        $< > $@
 
 $(DPTAPI_SRC)/%.cpp : $(DPT_BASE)/$(DPTAPI_SRC)/%.cpp
 	sed -e '/#include .*.h/s/\\/\//g' $< > $@
 
 $(DPTAPI_INC)/%.h : $(DPT_BASE)/$(DPTAPI_INC)/%.h
 	sed -e '/#include .*.h/s/\\/\//g' $< > $@
 
@@ -257,29 +269,29 @@
 #include <errno.h>\
 #include <string.h>\
 #include <limits.h>\
 #include <stdlib.h>/g' $< > $@
 endif
 
 $(DPT_RELEASE)/%.o : $(DPT_SRC)/%.cpp
-	$(WINE) $(CXX) -c $(CXXEXTRA) $(CXXFLAGS) $(DPT_INCLUDE) $(DEFOPTS) -o $@ $<
+	$(CXX) -c $(CXXEXTRA) $(CXXFLAGS) $(DPT_INCLUDE) $(DEFOPTS) -o $@ $<
 
 $(DPT_RELEASE)/%.o : $(DPTAPI_SRC)/%.cpp
-	$(WINE) $(CXX) -c $(CXXEXTRA) $(CXXFLAGS) $(DPTAPI_INCLUDE) $(DEFOPTS) -o $@ $<
+	$(CXX) -c $(CXXEXTRA) $(CXXFLAGS) $(DPTAPI_INCLUDE) $(DEFOPTS) -o $@ $<
 
 $(DPT_RELEASE)/%.o : $(DPT_STDAFX)/%.cpp
-	$(WINE) $(CXX) -c $(CXXEXTRA) $(CXXFLAGS) $(DPTAFX_INCLUDE) $(DEFOPTS) -o $@ $<
+	$(CXX) -c $(CXXEXTRA) $(CXXFLAGS) $(DPTAFX_INCLUDE) $(DEFOPTS) -o $@ $<
 
 ### Pattern rules SWIG wrappers for dpt API version
 
 $(SWIG_DPTAPI)_$(SWIG_PYTHON)_wrap.cxx : $(SWIG_DPTAPI)_$(SWIG_PYTHON).i
-	$(WINE) $(PATH_TO_SWIG)/swig -c++ -$(SWIG_PYTHON) $(SWIG_LANG_OPTS) -o $@ -outdir .. -I$(DPTAPI_INC) $<
+	swig -c++ -$(SWIG_PYTHON) $(SWIG_LANG_OPTS) -o $@ -outdir .. -I$(DPTAPI_INC) $<
 
 ### There is a clash between MinGW and Python on _hypot and hypot for cmath.
 ### www.freelists.org/post/nuitka-dev/error-hypot-has-not-been-declared,2 and
 ### stackoverflow.com/questions/10660524/error-building-boost-...-gcc-4-7-0...
 ### are two of many threads suggesting two possible workarounds.  (Why is
 ### this project not affected until after MinGW-5.3.0 given Boost's 4.7.0
 ### experience?) -D_hypot=hypot added to Swig wrapper build.
 
 $(SWIG_DPTAPI)_$(SWIG_PYTHON)_wrap.o : $(SWIG_DPTAPI)_$(SWIG_PYTHON)_wrap.cxx
-	$(WINE) $(CXX) -c $(CXXEXTRA) -D_hypot=hypot $(CXXFLAGS) $(SWIG_LANG_INCLUDE) $(DEFOPTS) -o $@ $<
+	$(CXX) -c $(CXXEXTRA) -D_hypot=hypot $(CXXFLAGS) $(SWIG_LANG_INCLUDE) $(DEFOPTS) -o $@ $<
```

## Comparing `dpt3.0-dptdb-0.7.3/dptversion.py` & `dpt3.0-dptdb-0.8.0/dptversion.py`

 * *Files 4% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 
 """
 
 import sys
 import os
 import re
 
-_DPTDB_VERSION = '0.7.3'
+_DPTDB_VERSION = '0.8.0'
 
 
 def record_dpt_and_dptdb_versions():
     """Extract DPT API version number from parmref.cpp
 
     This method is adapted from dptversion.py in the DPT API distribution.
     It is not appropriate to share the code between the packages.  In other
```

## Comparing `dpt3.0-dptdb-0.7.3/LICENCE` & `dpt3.0-dptdb-0.8.0/LICENCE`

 * *Files identical despite different names*

## Comparing `dpt3.0-dptdb-0.7.3/licence.txt` & `dpt3.0-dptdb-0.8.0/licence.txt`

 * *Files identical despite different names*

## Comparing `dpt3.0-dptdb-0.7.3/MANIFEST.in` & `dpt3.0-dptdb-0.8.0/MANIFEST.in`

 * *Files identical despite different names*

## Comparing `dpt3.0-dptdb-0.7.3/setup.py` & `dpt3.0-dptdb-0.8.0/setup.py`

 * *Files 26% similar despite different names*

```diff
@@ -81,14 +81,19 @@
 # December 2019.
 
 # The reaction of the target python to running the '[wine ]python -V' command
 # seems to be a good predictor of the outcome of 'import dptdb.dptapi' assuming
 # the installation is possible.
 # December 2019.
 
+# Building under Wine is likely not an option in the Msys2 and Cygwin
+# environments: but removal is for later when it is known the build can be
+# done with the Pythons in these distributions.  Ignoring the Microsoft
+# Windows Pyhon in other words.
+
 import os
 import posixpath
 import ntpath
 import sys
 import subprocess
 import zipfile
 import shutil
@@ -108,27 +113,24 @@
 _BUILD = os.path.join('dptdb', 'dptbuild')
 
 
 def setup(
     dpt_distribution_file='DPT_V3R0_DBMS.ZIP',
     dpt_documentation_file='DPT_V3R0_DOCS.ZIP',
     dpt_downloads_from='http://www.solentware.co.uk/files/',
-    path_to_swig=posixpath.join('C:', 'swigwin-4.0.1'),
     **attrs):
     """Extract DPT source code from distribution and call distutils.setup
 
     dpt_distribution_file is the default DPT distribution
     dpt_documentation_file is the default DPT documentation
     dpt_downloads_from is the site from which DPT files are downloaded
-    path_to_swig is the default location of the swig command
 
     The following command line arguments override these defaults:
     DPT_DIST       dpt_distribution_file
     DPT_DOCS       dpt_documentation_file
-    PATH_TO_SWIG   path_to_swig
 
     The other command line options are described below.
 
     MINGW345
     gcc-3.4.5 is the most recent version supported by MinGW known to compile
     the DPT API in dpt_distribution_file on Microsoft Windows or Wine without
     any modifications.  The MINGW345 keyword is given on the command line if
@@ -139,20 +141,14 @@
     with an unknown version after MinGW-3.4.5 the header file names <string.h>,
     <limits.h>, and <stdlib.h> must be included, in stdafx.h for convenience,
     to enable successful builds.  MinGW-4.7.2 is known to need this change.
 
     Another instance of this kind was spotted at MinGW-6.3.0 related to the
     C++11 standard it seems.
 
-    PATH_TO_PYTHON
-    Use this when building under Microsoft Windows if Python is not installed
-    directly in the default location.  C:\Python34 for 3.4 versions of Python.
-    If the D: drive were used instead then PATH_TO_PYTHON=D:\Python is the
-    setting, without the version number which goes in PYTHON_VERSION if needed.
-
     PYTHON_VERSION
     Used to pick out the python<major minor version>.lib filewhen creating the
     _dptapi.pyd file: PYTHON_VERSION=27 for example.
     Use this when cross-compiling if the build under Wine is to be done for a
     version of Python other than the one running this script.  Assumption is
     all the Pythons are at same version.
     On Microsoft Windows the swig build is done by the Python running this
@@ -170,45 +166,42 @@
     Clear out dptapi_python_wrap.cxx, dptapi_python_wrap.o, _dptapi_pyd and
     dptapi.py, generated by SWIG, and the version and licence files.
 
     If present, and clean_extract is not, clean_swig is the only command done.
 
     """
     make_arguments = (
-        'PATH_TO_PYTHON=',
         'MINGW345',
-        'PATH_TO_SWIG=',
         'DPT_DIST=',
         'DPT_DOCS=',
-        'PYTHON_VERSION=',
         )
 
     # In dptMakefile both clean_extract and clean_all_pythons should imply
     # clean_python_version and clean_swig without there being a pre-requisite
     # relationship.
     # clean_extract clears out the inputs leaving any distribution files alone.
     # clean_all_pythons clears out all the distribution files created leaving
     # the inputs alone.
     clean_up_arguments = ('clean_extract',
                           'clean_swig',
                           'clean_python_version',
                           'clean_all_pythons')
+
+    # The problem here is finding a reliable test to distinguish running
+    # under Wine, Msys, Msys2, or Cygwin from running under Microsoft
+    # Windows.
+    # So just state the Msys2 requirement for the record.
+    sys.stdout.write(
+        'Run this setup in an Msys2-like terminal on Microsoft Windows.\n')
+    sys.stdout.write(
+        sys.platform.join(('Platform is ', '.\n')))
     
-    # Determine the WINE command line option for the 'make' job
-    wine = 'WINE=wine'
-    if sys.platform == 'win32':
-        wine = False
-
-        # The problem here is finding a reliable test to distinguish running
-        # under Wine from running under Microsoft Windows.
-        # So just state the MSYS requirement for the record.
-        sys.stdout.write(
-            'On Microsoft Windows this setup must be run in an MSYS shell.\n')
-        sys.stdout.write(
-            'Otherwise it is assumed the build will be done under Wine.\n')
+    # Wine, Msys, Msys2, Cygwin, and Microsoft Windows all report 'win32'.
+    if sys.platform != 'win32':
+        return
 
     if len(sys.argv) < 2:
         sys.stdout.write('Please specify a setup command to setup.py\n')
         return
 
     # If a clean up argument is present just do the first one found and exit.
     for clean_up in clean_up_arguments:
@@ -249,44 +242,22 @@
     for a in sys.argv[2:]:
         if a.startswith('DPT_DIST='):
             dpt_distribution_file = a.split('=')[-1].strip()
     
     for a in sys.argv[2:]:
         if a.startswith('DPT_DOCS='):
             dpt_documentation_file = a.split('=')[-1].strip()
-    
-    for a in sys.argv[2:]:
-        if a.startswith('PATH_TO_SWIG='):
-            path_to_swig = a.split('=')[-1].strip()
 
     mingw345 = False
     for a in sys.argv[2:]:
         if a.lower() == 'mingw345':
             mingw345 = 'GCC_VERSION_PATCHING=false'
 
-    path_to_python = None
-    for a in sys.argv[2:]:
-        if a.startswith('PATH_TO_PYTHON='):
-            path_to_python = a
-
-    python_version = None
-    for a in sys.argv[2:]:
-        if a.startswith('PYTHON_VERSION='):
-            python_version = a
-
     # Get SWIG version number.
-    job = [
-        posixpath.join(
-            path_to_swig,
-            'swig',
-            ),
-        '-version',
-        ]
-    if wine:
-        job.insert(0, 'wine')
+    job = ['swig', '-version']
     sp = subprocess.Popen(job, stdout=subprocess.PIPE)
     r = sp.wait()
     if r != 0:
         sys.stdout.write('Get SWIG version fails\n')
         return
     for l in sp.stdout.readlines():
         l = l.decode()
@@ -296,133 +267,38 @@
     else:
         sys.stdout.write('Unable to determine version of SWIG\n')
         return
 
     # Get MinGW version number.
     job = [
         posixpath.join(
-            'mingw32-g++',
+            'g++',
             ),
         '--version',
         ]
-    if wine:
-        job.insert(0, 'wine')
     sp = subprocess.Popen(job, stdout=subprocess.PIPE)
     r = sp.wait()
     if r != 0:
         sys.stdout.write('Get MinGW version fails\n')
         return
     for l in sp.stdout.readlines():
         l = l.decode()
-        if l.startswith('mingw32-g++'):
+        if l.startswith('g++'):
             mingw_version = l.split()[-1]
             break
     else:
         sys.stdout.write('Unable to determine version of MinGW c++ compiler\n')
         return
 
     # Get target Python version number.
-    if path_to_python:
-        job = [
-            posixpath.join(
-                path_to_python.split('=', 1)[-1],
-                'python',
-                ),
-            '-V',
-            ]
-        if wine:
-            job.insert(0, 'wine')
-        sp = subprocess.Popen(job, stdout=subprocess.PIPE)
-        r = sp.wait()
-        if r != 0:
-            sys.stdout.write('Get target Python version fails\n')
-            return
-        pipe_empty = True
-        for l in sp.stdout.readlines():
-            pipe_empty = False
-            l = l.decode()
-            if l.startswith('Python'):
-                target_python = '.'.join(l.split()[-1].split('.')[:2])
-                python_version = '='.join(
-                    ('PYTHON_VERSION',
-                     ''.join(target_python.split('.')),
-                     ))
-                break
-        else:
-            if pipe_empty:
-
-                # Before Python 3.4 the pipe is empty: the version is output to
-                # the command session.
-                try:
-                    target_python, python_version = hack_target_and_version(
-                        path_to_python)
-                except:
-                    sys.stdout.write(
-                        'Unable to determine version of target Python\n')
-                    return
-
-            else:
-                sys.stdout.write(
-                    'Unable to determine version of target Python\n')
-                return
-    elif wine:
-        job = [
-            'wine',
-            posixpath.join(
-                default_path_to_python(python_version),
-                'python',
-                ),
-            '-V',
-            ]
-        sp = subprocess.Popen(job, stdout=subprocess.PIPE)
-        r = sp.wait()
-        if r != 0:
-            sys.stdout.write('Get target Python version fails\n')
-            return
-        pipe_empty = True
-        for l in sp.stdout.readlines():
-            pipe_empty = False
-            l = l.decode()
-            if l.startswith('Python'):
-                target_python = '.'.join(l.split()[-1].split('.')[:2])
-                break
-        else:
-            if pipe_empty:
-
-                # Before Python 3.4 the pipe is empty: the version is output to
-                # the command session.
-                try:
-                    target_python, python_version = hack_target_and_version(
-                        default_path_to_python(python_version))
-                except:
-                    sys.stdout.write(
-                        'Unable to determine version of target Python\n')
-                    sys.stdout.write(' '.join(job) + '\n')
-                    sys.stdout.write(''.join(
-                        ('If it can be installed the dptdb package will be ',
-                         'unusable\n')))
-                    return
-
-            else:
-                sys.stdout.write(
-                    'Unable to determine version of target Python\n')
-                sys.stdout.write(' '.join(job) + '\n')
-                sys.stdout.write(''.join(
-                    ('If it can be installed the dptdb package will be ',
-                     'unusable\n')))
-                return
-    else:
-
-        # On Microsoft Windows the Python version running this job is the
-        # target Python.
-        try:
-            target_python = '.'.join(sys.version.split()[0].split('.')[:2])
-        except:
-            sys.stdout.write('Unable to determine version of target Python\n')
-            return
+    try:
+        target_python = '.'.join(sys.version.split()[0].split('.')[:2])
+    except:
+        sys.stdout.write('Unable to determine version of target Python\n')
+        return
 
     # Check Python, SWIG, and MinGW version numbers against version.py.
     vs = {'_Swig': swig_version.join(("'", "'")),
           '_MinGW': mingw_version.join(("'", "'")),
           '_Python': target_python.join(("'", "'"))}
     np = set()
     version_file = os.path.join('dptdb', 'version.py')
@@ -729,41 +605,20 @@
             ('DPTAPI_INC_NAMES=',
              ' '.join(get_include_files(
                  os.path.join(_EXTRACT, 'include', 'dbapi'))),
              )))
     job.append(''.join(('OPTIONS=', '-O3')))
     job.append(''.join(('DEFINES=', '-DNDEBUG')))
 
-    # Swig not expected to be on PATH.
-    job.append(''.join(('PATH_TO_SWIG=', path_to_swig)))
-
     if mingw345:
         job.append(mingw345)
-    if wine:
-        job.append(wine)
-    if path_to_python:
-        job.append(path_to_python)
-        job.append(python_library_version(python_version))
-    elif wine:
-        job.append(''.join((
-            'PATH_TO_PYTHON=',
-            default_path_to_python(python_version))))
-        job.append(python_library_version(python_version))
-    else:
 
-        # On Microsoft Windows force make to use the Python version running
-        # this job because this job will do the setuptools.setup() call.
-        if python_version:
-            sys.stdout.write(''.join((
-                python_version, ' ignored on Microsoft Windows', '\n')))
-
-        job.append(''.join((
-            'PATH_TO_PYTHON=',
-            default_path_to_python(None))))
-        job.append(python_library_version(None))
+    # On Msys2 in Microsoft Windows force make to use the Python version
+    # running this job because this job will do the setuptools.setup() call.
+    job.append(python_library_version(None))
 
     # For creating version number module only: not used in the swig build.
     job.append(''.join(('PYTHON_RUNNING_MAKE=', sys.executable)))
 
     sp = subprocess.Popen(job, cwd=builddir)
     
     r = sp.wait()
@@ -822,76 +677,29 @@
     argv = sys.argv[:]
     for e in range(len(sys.argv)-1, 1, -1):
         for exclude in make_arguments:
             if sys.argv[e].upper().startswith(exclude):
                 del sys.argv[e]
                 break
 
-    if sys.platform == 'win32':
-        long_description = open('README.txt').read()
-        setuptools.setup(
-            name=name,
-            version='.'.join(dptdb_version),
-            long_description=long_description,
-            **attrs)
-
-    # With the Microsoft Windows version of Python 3.6 and later the Wine job
-    # will fail in some way, for example:
-    # Unimplemented function api-ms-win-core-path-l1-1-0.dll.PathCchCan...izeEx
-    # on a 64bit box running FreeBSD 12.1 amd64 with emulators/i386-wine,
-    # without reaching if __name__ == '__main__' in the _wine_setup module.
-    # or:
-    # Creating tar archive
-    # 0009:fixme:file:GetFileInformationByHandleEx ...
-    # error: [WinError 120] Call not implemented: 'dpt3.0-dpt-0.7.2
-    # after entering the setuptools.setup(..) call im the _wine_setup module.
-    # This on a 64bit box running FreeBSD 11.3 i386 with emulators/wine.
-    # It does not matter which Python does the sdist command, so let the one
-    # running this script do it.
-    elif sys.argv[1] == 'sdist':
-        long_description = open('README.txt').read()
-        setuptools.setup(
-            name=name,
-            version='.'.join(dptdb_version),
-            long_description=long_description,
-            **attrs)
-
-    # The Wine job has not been known to fail for the reasons above on Pythons
-    # earlier than 3.6 so let it do the install command.
-    # 'python3.6 setup.py install' with MinGW-8.2.0
-    # works at FreeBSD 11.3 i386 with emulators/wine
-    # but not at FreeBSD 12.1 amd64 with emulators/i386-wine.
-    # On a 64bit box running FreeBSD 11.3 i386 and emulators/wine the build
-    # command succeeds. The setup was run from 'unix' Python 3.6 targetting
-    # 'windows' Python 3.8.
-    # On a 64bit box running FreeBSD 12.1 amd64 and emulators/i386-wine the
-    # build command fails, but all the stuff before starting the job to run
-    # setuptools.setup() has been done. The setup was run from 'unix' Python
-    # 3.7 targetting 'windows' Python 3.7.
-    else:
-        job = ['wine',
-               os.path.join(
-                   default_path_to_python(python_version)
-                   if path_to_python is None
-                   else path_to_python,
-                   'python.exe',
-                   ),
-               '_wine_setup.py']
-        job.extend(sys.argv[1:])
-        job.append(name)
-        job.append('.'.join(dptdb_version))
-        sp = subprocess.Popen(job)
-        r = sp.wait()
-        if r != 0:
-            sys.stdout.write('wine python setup.py ... fails\n')
-            return
+    long_description = open('README.txt').read()
+    setuptools.setup(
+        name=name,
+        version='.'.join(dptdb_version),
+        long_description=long_description,
+        **attrs)
 
     sys.argv[:] = argv
 
 
+def is_64bit():
+    """Return True if Python interpreter is 64 bit."""
+    return sys.maxsize > 2 ** 32
+
+
 def default_path_to_python(version):
     """Return default location of 32-bit python.exe for user install.
 
     version is either 'PYTHON_VERSION=nm' or 'nm'.
     version.split('=', 1)[-1] produces 'nm' in each case.
 
     Before Python 3.5 series this is C:/PythonNM.
@@ -912,15 +720,15 @@
     # which must be used.
 
     if version is None:
         major_minor_version = ''.join(
             [str(vi) for vi in sys.version_info[:2]])
     else:
         major_minor_version = version.split('=', 1)[-1]
-    if major_minor_version < '35':
+    if int(major_minor_version) < int('35'):
         return posixpath.join('C:', 'Python' + major_minor_version)
 
     # 'USERNAME' is on Windows but not Wine, unless explicitly created.
     user = os.getenv('USERNAME') or os.getenv('USER')
 
     # 'users' not 'Users' because it is 'users' on Wine, where the case
     # matters, and 'Users' on Windows where the case does not matter.
@@ -929,20 +737,22 @@
                        user,
                        'AppData',
                        'Local',
                        'Programs',
                        'Python')
     if os.path.exists(os.path.dirname(p)):
         return posixpath.join(
-            p, major_minor_version.join(('Python', '-32')))
+            p, major_minor_version.join(
+                ('Python', '' if is_64bit() else '-32')))
     return posixpath.join('C:',
                           'users',
                           user,
                           'AppData',
-                          major_minor_version.join(('Python', '-32')))
+                          major_minor_version.join(
+                              ('Python', '' if is_64bit() else '-32')))
 
 
 def get_include_files(directory):
     """Return list of *.h source files without extension.""" 
     files =[]
     for f in os.listdir(directory):
         if os.path.isfile(os.path.join(directory, f)):
@@ -971,61 +781,34 @@
     When version is None assume the same version of Python will do
     the build as is running this script.
 
     """
     if version is None:
         return '='.join((
             'PYTHON_VERSION',
-            ''.join([str(vi) for vi in sys.version_info[:2]])))
+            '.'.join([str(vi) for vi in sys.version_info[:2]])))
     else:
         return version
 
 
-def hack_target_and_version(path):
-    """Return version information deduced from 'python<version>.dll'in path.
-
-    Pythons before 3.4 give empty output pipe when asked for version.
-
-    The response to 'wine python -V' via Popen() was sent to command widget.
-
-    Caller must ensure this function is called only when it is certain the
-    'wine <path>/python -V' job succeeded.
-
-    """
-
-    # Replace the assumed leading 'C:/' with '~/.wine/drive_c' the default
-    # location for the user's emulation of Windows file structure.
-    p = ['~', '.wine', 'drive_c', ntpath.splitdrive(path)[-1].lstrip('/\\')]
-
-    for f in os.listdir(os.path.expanduser(os.path.join(*p))):
-        if f.startswith('python') and f.endswith('.dll'):
-            v = f.lstrip('python').rstrip('.dll')
-            return '.'.join(tuple(v)), '='.join(('PYTHON_VERSION', v))
-
-
 if __name__ == '__main__':
     
     setup(
         description='DPT database API wrappers built using SWIG',
         author='Roger Marsh',
         author_email='roger.marsh@solentware.co.uk',
         url='http://www.solentware.co.uk',
         packages=['dptdb'],
         include_package_data=True,
         package_data={'': ['_dptapi.pyd']},
         platforms='Microsoft Windows',
         license='BSD',
         classifiers=[
             'License :: OSI Approved :: BSD License',
-            'Programming Language :: Python :: 2.7',
-            'Programming Language :: Python :: 3.3',
-            'Programming Language :: Python :: 3.4',
-            'Programming Language :: Python :: 3.5',
-            'Programming Language :: Python :: 3.6',
-            'Programming Language :: Python :: 3.7',
+            'Programming Language :: Python',
             'Operating System :: Microsoft :: Windows',
             'Topic :: Database',
             'Topic :: Software Development',
             'Intended Audience :: Developers',
             'Development Status :: 7 - Inactive',
             ],
         zip_safe=False,
```

## Comparing `dpt3.0-dptdb-0.7.3/test/pydpt-test.py` & `dpt3.0-dptdb-0.8.0/test/pydpt-test.py`

 * *Files identical despite different names*

