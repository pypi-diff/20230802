# Comparing `tmp/modal_client-0.50.2870-py3-none-any.whl.zip` & `tmp/modal_client-0.50.2877-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,176 +1,175 @@
-Zip file size: 284694 bytes, number of entries: 174
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 00:00 client_test/__init__.py
--rw-r--r--  2.0 unx      392 b- defN 23-Aug-02 00:00 client_test/aio_test.py
--rw-r--r--  2.0 unx     5409 b- defN 23-Aug-02 00:00 client_test/async_utils_test.py
--rw-r--r--  2.0 unx     1474 b- defN 23-Aug-02 00:00 client_test/blob_test.py
--rw-r--r--  2.0 unx     3979 b- defN 23-Aug-02 00:00 client_test/cli_imports_test.py
--rw-r--r--  2.0 unx    17064 b- defN 23-Aug-02 00:00 client_test/cli_test.py
--rw-r--r--  2.0 unx     4768 b- defN 23-Aug-02 00:00 client_test/client_test.py
--rw-r--r--  2.0 unx     4422 b- defN 23-Aug-02 00:00 client_test/cls_test.py
--rw-r--r--  2.0 unx     2622 b- defN 23-Aug-02 00:00 client_test/config_test.py
--rw-r--r--  2.0 unx    34296 b- defN 23-Aug-02 00:00 client_test/conftest.py
--rw-r--r--  2.0 unx     4487 b- defN 23-Aug-02 00:00 client_test/container_app_test.py
--rw-r--r--  2.0 unx    25162 b- defN 23-Aug-02 00:00 client_test/container_test.py
--rw-r--r--  2.0 unx      405 b- defN 23-Aug-02 00:00 client_test/cpu_test.py
--rw-r--r--  2.0 unx     1086 b- defN 23-Aug-02 00:00 client_test/deprecation_test.py
--rw-r--r--  2.0 unx      475 b- defN 23-Aug-02 00:00 client_test/dict_test.py
--rw-r--r--  2.0 unx     2182 b- defN 23-Aug-02 00:00 client_test/e2e_test.py
--rw-r--r--  2.0 unx      165 b- defN 23-Aug-02 00:00 client_test/error_test.py
--rw-r--r--  2.0 unx      964 b- defN 23-Aug-02 00:00 client_test/function_serialization_test.py
--rw-r--r--  2.0 unx    18380 b- defN 23-Aug-02 00:00 client_test/function_test.py
--rw-r--r--  2.0 unx     3914 b- defN 23-Aug-02 00:00 client_test/gpu_test.py
--rw-r--r--  2.0 unx     5047 b- defN 23-Aug-02 00:00 client_test/grpc_utils_test.py
--rw-r--r--  2.0 unx      930 b- defN 23-Aug-02 00:00 client_test/helpers.py
--rw-r--r--  2.0 unx    16236 b- defN 23-Aug-02 00:00 client_test/image_test.py
--rw-r--r--  2.0 unx     2357 b- defN 23-Aug-02 00:00 client_test/live_reload_test.py
--rw-r--r--  2.0 unx     2619 b- defN 23-Aug-02 00:00 client_test/lookup_test.py
--rw-r--r--  2.0 unx     5347 b- defN 23-Aug-02 00:00 client_test/mount_test.py
--rw-r--r--  2.0 unx     6240 b- defN 23-Aug-02 00:00 client_test/mounted_files_test.py
--rw-r--r--  2.0 unx     5985 b- defN 23-Aug-02 00:00 client_test/network_file_system_test.py
--rw-r--r--  2.0 unx     2157 b- defN 23-Aug-02 00:00 client_test/notebook_test.py
--rw-r--r--  2.0 unx     1429 b- defN 23-Aug-02 00:00 client_test/object_test.py
--rw-r--r--  2.0 unx      413 b- defN 23-Aug-02 00:00 client_test/package_utils_test.py
--rw-r--r--  2.0 unx      528 b- defN 23-Aug-02 00:00 client_test/queue_test.py
--rw-r--r--  2.0 unx     1752 b- defN 23-Aug-02 00:00 client_test/resolver_test.py
--rw-r--r--  2.0 unx     1807 b- defN 23-Aug-02 00:00 client_test/retries_test.py
--rw-r--r--  2.0 unx     2427 b- defN 23-Aug-02 00:00 client_test/runner_test.py
--rw-r--r--  2.0 unx     1616 b- defN 23-Aug-02 00:00 client_test/sandbox_test.py
--rw-r--r--  2.0 unx      359 b- defN 23-Aug-02 00:00 client_test/schedule_test.py
--rw-r--r--  2.0 unx     1185 b- defN 23-Aug-02 00:00 client_test/secret_test.py
--rw-r--r--  2.0 unx     1086 b- defN 23-Aug-02 00:00 client_test/serialization_test.py
--rw-r--r--  2.0 unx     8091 b- defN 23-Aug-02 00:00 client_test/stub_test.py
--rw-r--r--  2.0 unx     2690 b- defN 23-Aug-02 00:00 client_test/utils_test.py
--rw-r--r--  2.0 unx      410 b- defN 23-Aug-02 00:00 client_test/version_test.py
--rw-r--r--  2.0 unx     3213 b- defN 23-Aug-02 00:00 client_test/volume_test.py
--rw-r--r--  2.0 unx     1160 b- defN 23-Aug-02 00:00 client_test/watcher_test.py
--rw-r--r--  2.0 unx     3838 b- defN 23-Aug-02 00:00 client_test/webhook_test.py
--rw-r--r--  2.0 unx     1159 b- defN 23-Aug-02 00:00 modal/__init__.py
--rw-r--r--  2.0 unx      157 b- defN 23-Aug-02 00:00 modal/__main__.py
--rw-r--r--  2.0 unx     2135 b- defN 23-Aug-02 00:00 modal/_asgi.py
--rw-r--r--  2.0 unx    13413 b- defN 23-Aug-02 00:00 modal/_blob_utils.py
--rw-r--r--  2.0 unx    26205 b- defN 23-Aug-02 00:00 modal/_container_entrypoint.py
--rw-r--r--  2.0 unx    10990 b- defN 23-Aug-02 00:00 modal/_function_utils.py
--rw-r--r--  2.0 unx      450 b- defN 23-Aug-02 00:00 modal/_ipython.py
--rw-r--r--  2.0 unx      929 b- defN 23-Aug-02 00:00 modal/_location.py
--rw-r--r--  2.0 unx      850 b- defN 23-Aug-02 00:00 modal/_object_meta.py
--rw-r--r--  2.0 unx    17814 b- defN 23-Aug-02 00:00 modal/_output.py
--rw-r--r--  2.0 unx     1785 b- defN 23-Aug-02 00:00 modal/_proxy_tunnel.py
--rw-r--r--  2.0 unx     5279 b- defN 23-Aug-02 00:00 modal/_pty.py
--rw-r--r--  2.0 unx     5810 b- defN 23-Aug-02 00:00 modal/_resolver.py
--rw-r--r--  2.0 unx     1529 b- defN 23-Aug-02 00:00 modal/_serialization.py
--rw-r--r--  2.0 unx     7598 b- defN 23-Aug-02 00:00 modal/_traceback.py
--rw-r--r--  2.0 unx     1995 b- defN 23-Aug-02 00:00 modal/_tracing.py
--rw-r--r--  2.0 unx      490 b- defN 23-Aug-02 00:00 modal/_types.py
--rw-r--r--  2.0 unx     3408 b- defN 23-Aug-02 00:00 modal/_watcher.py
--rw-r--r--  2.0 unx      702 b- defN 23-Aug-02 00:00 modal/aio.py
--rw-r--r--  2.0 unx    13411 b- defN 23-Aug-02 00:00 modal/app.py
--rw-r--r--  2.0 unx     7683 b- defN 23-Aug-02 00:01 modal/app.pyi
--rw-r--r--  2.0 unx     2462 b- defN 23-Aug-02 00:00 modal/call_graph.py
--rw-r--r--  2.0 unx     9478 b- defN 23-Aug-02 00:00 modal/client.py
--rw-r--r--  2.0 unx     3966 b- defN 23-Aug-02 00:01 modal/client.pyi
--rw-r--r--  2.0 unx     1977 b- defN 23-Aug-02 00:00 modal/cls.py
--rw-r--r--  2.0 unx     7224 b- defN 23-Aug-02 00:00 modal/config.py
--rw-r--r--  2.0 unx     7671 b- defN 23-Aug-02 00:00 modal/dict.py
--rw-r--r--  2.0 unx     7072 b- defN 23-Aug-02 00:01 modal/dict.pyi
--rw-r--r--  2.0 unx     2189 b- defN 23-Aug-02 00:00 modal/environments.py
--rw-r--r--  2.0 unx     1195 b- defN 23-Aug-02 00:01 modal/environments.pyi
--rw-r--r--  2.0 unx     2750 b- defN 23-Aug-02 00:00 modal/exception.py
--rw-r--r--  2.0 unx    65230 b- defN 23-Aug-02 00:00 modal/functions.py
--rw-r--r--  2.0 unx    20445 b- defN 23-Aug-02 00:01 modal/functions.pyi
--rw-r--r--  2.0 unx     4858 b- defN 23-Aug-02 00:00 modal/gpu.py
--rw-r--r--  2.0 unx    49458 b- defN 23-Aug-02 00:00 modal/image.py
--rw-r--r--  2.0 unx    15137 b- defN 23-Aug-02 00:01 modal/image.pyi
--rw-r--r--  2.0 unx    15517 b- defN 23-Aug-02 00:00 modal/mount.py
--rw-r--r--  2.0 unx     6077 b- defN 23-Aug-02 00:01 modal/mount.pyi
--rw-r--r--  2.0 unx    11144 b- defN 23-Aug-02 00:00 modal/network_file_system.py
--rw-r--r--  2.0 unx     7060 b- defN 23-Aug-02 00:01 modal/network_file_system.pyi
--rw-r--r--  2.0 unx    13741 b- defN 23-Aug-02 00:00 modal/object.py
--rw-r--r--  2.0 unx     8543 b- defN 23-Aug-02 00:01 modal/object.pyi
--rw-r--r--  2.0 unx      623 b- defN 23-Aug-02 00:00 modal/proxy.py
--rw-r--r--  2.0 unx      312 b- defN 23-Aug-02 00:01 modal/proxy.pyi
--rw-r--r--  2.0 unx        0 b- defN 23-Aug-02 00:00 modal/py.typed
--rw-r--r--  2.0 unx     6220 b- defN 23-Aug-02 00:00 modal/queue.py
--rw-r--r--  2.0 unx     4571 b- defN 23-Aug-02 00:01 modal/queue.pyi
--rw-r--r--  2.0 unx      502 b- defN 23-Aug-02 00:00 modal/requirements.txt
--rw-r--r--  2.0 unx     3730 b- defN 23-Aug-02 00:00 modal/retries.py
--rw-r--r--  2.0 unx     9458 b- defN 23-Aug-02 00:00 modal/runner.py
--rw-r--r--  2.0 unx     5834 b- defN 23-Aug-02 00:00 modal/sandbox.py
--rw-r--r--  2.0 unx     2318 b- defN 23-Aug-02 00:01 modal/sandbox.pyi
--rw-r--r--  2.0 unx     2619 b- defN 23-Aug-02 00:00 modal/schedule.py
--rw-r--r--  2.0 unx     5062 b- defN 23-Aug-02 00:00 modal/secret.py
--rw-r--r--  2.0 unx      765 b- defN 23-Aug-02 00:01 modal/secret.pyi
--rw-r--r--  2.0 unx     4717 b- defN 23-Aug-02 00:00 modal/serving.py
--rw-r--r--  2.0 unx     1242 b- defN 23-Aug-02 00:00 modal/shared_volume.py
--rw-r--r--  2.0 unx    24606 b- defN 23-Aug-02 00:00 modal/stub.py
--rw-r--r--  2.0 unx    11848 b- defN 23-Aug-02 00:01 modal/stub.pyi
--rw-r--r--  2.0 unx     7556 b- defN 23-Aug-02 00:00 modal/volume.py
--rw-r--r--  2.0 unx     3832 b- defN 23-Aug-02 00:01 modal/volume.pyi
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 00:00 modal/cli/__init__.py
--rw-r--r--  2.0 unx     1709 b- defN 23-Aug-02 00:00 modal/cli/_shared_volume.py
--rw-r--r--  2.0 unx     3057 b- defN 23-Aug-02 00:00 modal/cli/app.py
--rw-r--r--  2.0 unx     1360 b- defN 23-Aug-02 00:00 modal/cli/config.py
--rw-r--r--  2.0 unx     2039 b- defN 23-Aug-02 00:00 modal/cli/entry_point.py
--rw-r--r--  2.0 unx     3413 b- defN 23-Aug-02 00:00 modal/cli/environment.py
--rw-r--r--  2.0 unx    10471 b- defN 23-Aug-02 00:00 modal/cli/import_refs.py
--rw-r--r--  2.0 unx    10330 b- defN 23-Aug-02 00:00 modal/cli/network_file_system.py
--rw-r--r--  2.0 unx      760 b- defN 23-Aug-02 00:00 modal/cli/profile.py
--rw-r--r--  2.0 unx     9244 b- defN 23-Aug-02 00:00 modal/cli/run.py
--rw-r--r--  2.0 unx     4029 b- defN 23-Aug-02 00:00 modal/cli/secret.py
--rw-r--r--  2.0 unx     3121 b- defN 23-Aug-02 00:00 modal/cli/token.py
--rw-r--r--  2.0 unx     1889 b- defN 23-Aug-02 00:00 modal/cli/utils.py
--rw-r--r--  2.0 unx     2895 b- defN 23-Aug-02 00:00 modal/cli/volume.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 00:00 modal/extensions/__init__.py
--rw-r--r--  2.0 unx      987 b- defN 23-Aug-02 00:00 modal/extensions/ipython.py
--rw-r--r--  2.0 unx     6220 b- defN 23-Aug-02 00:00 modal/extensions/pymc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 00:00 modal_base_images/__init__.py
--rw-r--r--  2.0 unx      730 b- defN 23-Aug-02 00:00 modal_base_images/client_mount.py
--rw-r--r--  2.0 unx      324 b- defN 23-Aug-02 00:00 modal_base_images/conda.py
--rw-r--r--  2.0 unx      330 b- defN 23-Aug-02 00:00 modal_base_images/debian_slim.py
--rw-r--r--  2.0 unx      329 b- defN 23-Aug-02 00:00 modal_base_images/micromamba.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 00:00 modal_proto/__init__.py
--rw-r--r--  2.0 unx    32918 b- defN 23-Aug-02 00:00 modal_proto/api.proto
--rw-r--r--  2.0 unx    55111 b- defN 23-Aug-02 00:01 modal_proto/api_grpc.py
--rw-r--r--  2.0 unx   138479 b- defN 23-Aug-02 00:01 modal_proto/api_pb2.py
--rw-r--r--  2.0 unx   119140 b- defN 23-Aug-02 00:01 modal_proto/api_pb2_grpc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 00:00 modal_test_support/__init__.py
--rw-r--r--  2.0 unx      134 b- defN 23-Aug-02 00:00 modal_test_support/assert_package.py
--rw-r--r--  2.0 unx      171 b- defN 23-Aug-02 00:00 modal_test_support/consumed_map.py
--rw-r--r--  2.0 unx     3013 b- defN 23-Aug-02 00:00 modal_test_support/functions.py
--rw-r--r--  2.0 unx      183 b- defN 23-Aug-02 00:00 modal_test_support/hello.py
--rw-r--r--  2.0 unx      266 b- defN 23-Aug-02 00:00 modal_test_support/image_run_function.py
--rw-r--r--  2.0 unx      180 b- defN 23-Aug-02 00:00 modal_test_support/is_inside.py
--rw-r--r--  2.0 unx      187 b- defN 23-Aug-02 00:00 modal_test_support/missing_main_conditional.py
--rw-r--r--  2.0 unx       59 b- defN 23-Aug-02 00:00 modal_test_support/module_1.py
--rw-r--r--  2.0 unx       59 b- defN 23-Aug-02 00:00 modal_test_support/module_2.py
--rw-r--r--  2.0 unx      276 b- defN 23-Aug-02 00:00 modal_test_support/multistub.py
--rw-r--r--  2.0 unx      228 b- defN 23-Aug-02 00:00 modal_test_support/multistub_is_inside.py
--rw-r--r--  2.0 unx      222 b- defN 23-Aug-02 00:00 modal_test_support/multistub_is_inside_warning.py
--rw-r--r--  2.0 unx      268 b- defN 23-Aug-02 00:00 modal_test_support/multistub_privately_decorated.py
--rw-r--r--  2.0 unx      210 b- defN 23-Aug-02 00:00 modal_test_support/multistub_privately_decorated_named_stub.py
--rw-r--r--  2.0 unx      217 b- defN 23-Aug-02 00:00 modal_test_support/multistub_same_name.py
--rw-r--r--  2.0 unx      218 b- defN 23-Aug-02 00:00 modal_test_support/multistub_serialized_func.py
--rw-r--r--  2.0 unx      196 b- defN 23-Aug-02 00:00 modal_test_support/package_mount.py
--rw-r--r--  2.0 unx      171 b- defN 23-Aug-02 00:00 modal_test_support/progress_info.py
--rw-r--r--  2.0 unx      153 b- defN 23-Aug-02 00:00 modal_test_support/script.py
--rw-r--r--  2.0 unx      178 b- defN 23-Aug-02 00:00 modal_test_support/startup_failure.py
--rw-r--r--  2.0 unx      177 b- defN 23-Aug-02 00:00 modal_test_support/stub.py
--rw-r--r--  2.0 unx      144 b- defN 23-Aug-02 00:00 modal_test_support/unconsumed_map.py
--rw-r--r--  2.0 unx      123 b- defN 23-Aug-02 00:00 modal_test_support/webhook_forgot_function.py
--rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 00:00 modal_utils/__init__.py
--rw-r--r--  2.0 unx      465 b- defN 23-Aug-02 00:00 modal_utils/app_utils.py
--rw-r--r--  2.0 unx    11728 b- defN 23-Aug-02 00:00 modal_utils/async_utils.py
--rw-r--r--  2.0 unx     6538 b- defN 23-Aug-02 00:00 modal_utils/grpc_testing.py
--rw-r--r--  2.0 unx     9320 b- defN 23-Aug-02 00:00 modal_utils/grpc_utils.py
--rw-r--r--  2.0 unx     1597 b- defN 23-Aug-02 00:00 modal_utils/hash_utils.py
--rw-r--r--  2.0 unx     1426 b- defN 23-Aug-02 00:00 modal_utils/http_utils.py
--rw-r--r--  2.0 unx      113 b- defN 23-Aug-02 00:00 modal_utils/logger.py
--rw-r--r--  2.0 unx     1226 b- defN 23-Aug-02 00:00 modal_utils/package_utils.py
--rw-r--r--  2.0 unx      458 b- defN 23-Aug-02 00:00 modal_version/__init__.py
--rw-r--r--  2.0 unx       48 b- defN 23-Aug-02 00:01 modal_version/_version_generated.py
--rw-r--r--  2.0 unx    10173 b- defN 23-Aug-02 00:01 modal_client-0.50.2870.dist-info/LICENSE
--rw-r--r--  2.0 unx     1923 b- defN 23-Aug-02 00:01 modal_client-0.50.2870.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Aug-02 00:01 modal_client-0.50.2870.dist-info/WHEEL
--rw-r--r--  2.0 unx       46 b- defN 23-Aug-02 00:01 modal_client-0.50.2870.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       93 b- defN 23-Aug-02 00:01 modal_client-0.50.2870.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    14159 b- defN 23-Aug-02 00:01 modal_client-0.50.2870.dist-info/RECORD
-174 files, 1168888 bytes uncompressed, 262760 bytes compressed:  77.5%
+Zip file size: 284182 bytes, number of entries: 173
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 08:22 client_test/__init__.py
+-rw-r--r--  2.0 unx      392 b- defN 23-Aug-02 08:22 client_test/aio_test.py
+-rw-r--r--  2.0 unx     5409 b- defN 23-Aug-02 08:22 client_test/async_utils_test.py
+-rw-r--r--  2.0 unx     1474 b- defN 23-Aug-02 08:22 client_test/blob_test.py
+-rw-r--r--  2.0 unx     3979 b- defN 23-Aug-02 08:22 client_test/cli_imports_test.py
+-rw-r--r--  2.0 unx    17064 b- defN 23-Aug-02 08:22 client_test/cli_test.py
+-rw-r--r--  2.0 unx     4768 b- defN 23-Aug-02 08:22 client_test/client_test.py
+-rw-r--r--  2.0 unx     4422 b- defN 23-Aug-02 08:22 client_test/cls_test.py
+-rw-r--r--  2.0 unx     2622 b- defN 23-Aug-02 08:22 client_test/config_test.py
+-rw-r--r--  2.0 unx    34296 b- defN 23-Aug-02 08:22 client_test/conftest.py
+-rw-r--r--  2.0 unx     4487 b- defN 23-Aug-02 08:22 client_test/container_app_test.py
+-rw-r--r--  2.0 unx    25162 b- defN 23-Aug-02 08:22 client_test/container_test.py
+-rw-r--r--  2.0 unx      405 b- defN 23-Aug-02 08:22 client_test/cpu_test.py
+-rw-r--r--  2.0 unx     1086 b- defN 23-Aug-02 08:22 client_test/deprecation_test.py
+-rw-r--r--  2.0 unx      475 b- defN 23-Aug-02 08:22 client_test/dict_test.py
+-rw-r--r--  2.0 unx     2182 b- defN 23-Aug-02 08:22 client_test/e2e_test.py
+-rw-r--r--  2.0 unx      165 b- defN 23-Aug-02 08:22 client_test/error_test.py
+-rw-r--r--  2.0 unx      964 b- defN 23-Aug-02 08:22 client_test/function_serialization_test.py
+-rw-r--r--  2.0 unx    18380 b- defN 23-Aug-02 08:22 client_test/function_test.py
+-rw-r--r--  2.0 unx     3914 b- defN 23-Aug-02 08:22 client_test/gpu_test.py
+-rw-r--r--  2.0 unx     5047 b- defN 23-Aug-02 08:22 client_test/grpc_utils_test.py
+-rw-r--r--  2.0 unx      930 b- defN 23-Aug-02 08:22 client_test/helpers.py
+-rw-r--r--  2.0 unx    16236 b- defN 23-Aug-02 08:22 client_test/image_test.py
+-rw-r--r--  2.0 unx     2357 b- defN 23-Aug-02 08:22 client_test/live_reload_test.py
+-rw-r--r--  2.0 unx     2619 b- defN 23-Aug-02 08:22 client_test/lookup_test.py
+-rw-r--r--  2.0 unx     5347 b- defN 23-Aug-02 08:22 client_test/mount_test.py
+-rw-r--r--  2.0 unx     6240 b- defN 23-Aug-02 08:22 client_test/mounted_files_test.py
+-rw-r--r--  2.0 unx     5985 b- defN 23-Aug-02 08:22 client_test/network_file_system_test.py
+-rw-r--r--  2.0 unx     2157 b- defN 23-Aug-02 08:22 client_test/notebook_test.py
+-rw-r--r--  2.0 unx     1429 b- defN 23-Aug-02 08:22 client_test/object_test.py
+-rw-r--r--  2.0 unx      413 b- defN 23-Aug-02 08:22 client_test/package_utils_test.py
+-rw-r--r--  2.0 unx      528 b- defN 23-Aug-02 08:22 client_test/queue_test.py
+-rw-r--r--  2.0 unx     1790 b- defN 23-Aug-02 08:22 client_test/resolver_test.py
+-rw-r--r--  2.0 unx     1807 b- defN 23-Aug-02 08:22 client_test/retries_test.py
+-rw-r--r--  2.0 unx     2427 b- defN 23-Aug-02 08:22 client_test/runner_test.py
+-rw-r--r--  2.0 unx     1616 b- defN 23-Aug-02 08:22 client_test/sandbox_test.py
+-rw-r--r--  2.0 unx      359 b- defN 23-Aug-02 08:22 client_test/schedule_test.py
+-rw-r--r--  2.0 unx     1185 b- defN 23-Aug-02 08:22 client_test/secret_test.py
+-rw-r--r--  2.0 unx     1513 b- defN 23-Aug-02 08:22 client_test/serialization_test.py
+-rw-r--r--  2.0 unx     8091 b- defN 23-Aug-02 08:22 client_test/stub_test.py
+-rw-r--r--  2.0 unx     2690 b- defN 23-Aug-02 08:22 client_test/utils_test.py
+-rw-r--r--  2.0 unx      410 b- defN 23-Aug-02 08:22 client_test/version_test.py
+-rw-r--r--  2.0 unx     3213 b- defN 23-Aug-02 08:22 client_test/volume_test.py
+-rw-r--r--  2.0 unx     1160 b- defN 23-Aug-02 08:22 client_test/watcher_test.py
+-rw-r--r--  2.0 unx     3838 b- defN 23-Aug-02 08:22 client_test/webhook_test.py
+-rw-r--r--  2.0 unx     1159 b- defN 23-Aug-02 08:22 modal/__init__.py
+-rw-r--r--  2.0 unx      157 b- defN 23-Aug-02 08:22 modal/__main__.py
+-rw-r--r--  2.0 unx     2135 b- defN 23-Aug-02 08:22 modal/_asgi.py
+-rw-r--r--  2.0 unx    13413 b- defN 23-Aug-02 08:22 modal/_blob_utils.py
+-rw-r--r--  2.0 unx    26205 b- defN 23-Aug-02 08:22 modal/_container_entrypoint.py
+-rw-r--r--  2.0 unx    10990 b- defN 23-Aug-02 08:22 modal/_function_utils.py
+-rw-r--r--  2.0 unx      450 b- defN 23-Aug-02 08:22 modal/_ipython.py
+-rw-r--r--  2.0 unx      929 b- defN 23-Aug-02 08:22 modal/_location.py
+-rw-r--r--  2.0 unx    17814 b- defN 23-Aug-02 08:22 modal/_output.py
+-rw-r--r--  2.0 unx     1785 b- defN 23-Aug-02 08:22 modal/_proxy_tunnel.py
+-rw-r--r--  2.0 unx     5279 b- defN 23-Aug-02 08:22 modal/_pty.py
+-rw-r--r--  2.0 unx     5810 b- defN 23-Aug-02 08:22 modal/_resolver.py
+-rw-r--r--  2.0 unx     1892 b- defN 23-Aug-02 08:22 modal/_serialization.py
+-rw-r--r--  2.0 unx     7598 b- defN 23-Aug-02 08:22 modal/_traceback.py
+-rw-r--r--  2.0 unx     1995 b- defN 23-Aug-02 08:22 modal/_tracing.py
+-rw-r--r--  2.0 unx      490 b- defN 23-Aug-02 08:22 modal/_types.py
+-rw-r--r--  2.0 unx     3408 b- defN 23-Aug-02 08:22 modal/_watcher.py
+-rw-r--r--  2.0 unx      702 b- defN 23-Aug-02 08:22 modal/aio.py
+-rw-r--r--  2.0 unx    13411 b- defN 23-Aug-02 08:22 modal/app.py
+-rw-r--r--  2.0 unx     7683 b- defN 23-Aug-02 08:22 modal/app.pyi
+-rw-r--r--  2.0 unx     2462 b- defN 23-Aug-02 08:22 modal/call_graph.py
+-rw-r--r--  2.0 unx     9478 b- defN 23-Aug-02 08:22 modal/client.py
+-rw-r--r--  2.0 unx     3966 b- defN 23-Aug-02 08:22 modal/client.pyi
+-rw-r--r--  2.0 unx     1977 b- defN 23-Aug-02 08:22 modal/cls.py
+-rw-r--r--  2.0 unx     7224 b- defN 23-Aug-02 08:22 modal/config.py
+-rw-r--r--  2.0 unx     7676 b- defN 23-Aug-02 08:22 modal/dict.py
+-rw-r--r--  2.0 unx     7031 b- defN 23-Aug-02 08:22 modal/dict.pyi
+-rw-r--r--  2.0 unx     2189 b- defN 23-Aug-02 08:22 modal/environments.py
+-rw-r--r--  2.0 unx     1195 b- defN 23-Aug-02 08:22 modal/environments.pyi
+-rw-r--r--  2.0 unx     2750 b- defN 23-Aug-02 08:22 modal/exception.py
+-rw-r--r--  2.0 unx    65231 b- defN 23-Aug-02 08:22 modal/functions.py
+-rw-r--r--  2.0 unx    20396 b- defN 23-Aug-02 08:22 modal/functions.pyi
+-rw-r--r--  2.0 unx     4858 b- defN 23-Aug-02 08:22 modal/gpu.py
+-rw-r--r--  2.0 unx    49317 b- defN 23-Aug-02 08:22 modal/image.py
+-rw-r--r--  2.0 unx    15016 b- defN 23-Aug-02 08:22 modal/image.pyi
+-rw-r--r--  2.0 unx    15521 b- defN 23-Aug-02 08:22 modal/mount.py
+-rw-r--r--  2.0 unx     6034 b- defN 23-Aug-02 08:22 modal/mount.pyi
+-rw-r--r--  2.0 unx    11136 b- defN 23-Aug-02 08:22 modal/network_file_system.py
+-rw-r--r--  2.0 unx     6993 b- defN 23-Aug-02 08:22 modal/network_file_system.pyi
+-rw-r--r--  2.0 unx    15034 b- defN 23-Aug-02 08:22 modal/object.py
+-rw-r--r--  2.0 unx    10177 b- defN 23-Aug-02 08:22 modal/object.pyi
+-rw-r--r--  2.0 unx      627 b- defN 23-Aug-02 08:22 modal/proxy.py
+-rw-r--r--  2.0 unx      269 b- defN 23-Aug-02 08:22 modal/proxy.pyi
+-rw-r--r--  2.0 unx        0 b- defN 23-Aug-02 08:22 modal/py.typed
+-rw-r--r--  2.0 unx     6224 b- defN 23-Aug-02 08:22 modal/queue.py
+-rw-r--r--  2.0 unx     4528 b- defN 23-Aug-02 08:22 modal/queue.pyi
+-rw-r--r--  2.0 unx      502 b- defN 23-Aug-02 08:22 modal/requirements.txt
+-rw-r--r--  2.0 unx     3730 b- defN 23-Aug-02 08:22 modal/retries.py
+-rw-r--r--  2.0 unx     9458 b- defN 23-Aug-02 08:22 modal/runner.py
+-rw-r--r--  2.0 unx     5836 b- defN 23-Aug-02 08:22 modal/sandbox.py
+-rw-r--r--  2.0 unx     2271 b- defN 23-Aug-02 08:22 modal/sandbox.pyi
+-rw-r--r--  2.0 unx     2619 b- defN 23-Aug-02 08:22 modal/schedule.py
+-rw-r--r--  2.0 unx     5065 b- defN 23-Aug-02 08:22 modal/secret.py
+-rw-r--r--  2.0 unx      720 b- defN 23-Aug-02 08:22 modal/secret.pyi
+-rw-r--r--  2.0 unx     4717 b- defN 23-Aug-02 08:22 modal/serving.py
+-rw-r--r--  2.0 unx     1242 b- defN 23-Aug-02 08:22 modal/shared_volume.py
+-rw-r--r--  2.0 unx    24606 b- defN 23-Aug-02 08:22 modal/stub.py
+-rw-r--r--  2.0 unx    11848 b- defN 23-Aug-02 08:22 modal/stub.pyi
+-rw-r--r--  2.0 unx     7571 b- defN 23-Aug-02 08:22 modal/volume.py
+-rw-r--r--  2.0 unx     3787 b- defN 23-Aug-02 08:22 modal/volume.pyi
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 08:22 modal/cli/__init__.py
+-rw-r--r--  2.0 unx     1709 b- defN 23-Aug-02 08:22 modal/cli/_shared_volume.py
+-rw-r--r--  2.0 unx     3057 b- defN 23-Aug-02 08:22 modal/cli/app.py
+-rw-r--r--  2.0 unx     1360 b- defN 23-Aug-02 08:22 modal/cli/config.py
+-rw-r--r--  2.0 unx     2039 b- defN 23-Aug-02 08:22 modal/cli/entry_point.py
+-rw-r--r--  2.0 unx     3413 b- defN 23-Aug-02 08:22 modal/cli/environment.py
+-rw-r--r--  2.0 unx    10471 b- defN 23-Aug-02 08:22 modal/cli/import_refs.py
+-rw-r--r--  2.0 unx    10330 b- defN 23-Aug-02 08:22 modal/cli/network_file_system.py
+-rw-r--r--  2.0 unx      760 b- defN 23-Aug-02 08:22 modal/cli/profile.py
+-rw-r--r--  2.0 unx     9244 b- defN 23-Aug-02 08:22 modal/cli/run.py
+-rw-r--r--  2.0 unx     4029 b- defN 23-Aug-02 08:22 modal/cli/secret.py
+-rw-r--r--  2.0 unx     3121 b- defN 23-Aug-02 08:22 modal/cli/token.py
+-rw-r--r--  2.0 unx     1889 b- defN 23-Aug-02 08:22 modal/cli/utils.py
+-rw-r--r--  2.0 unx     2880 b- defN 23-Aug-02 08:22 modal/cli/volume.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 08:22 modal/extensions/__init__.py
+-rw-r--r--  2.0 unx      987 b- defN 23-Aug-02 08:22 modal/extensions/ipython.py
+-rw-r--r--  2.0 unx     6220 b- defN 23-Aug-02 08:22 modal/extensions/pymc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 08:22 modal_base_images/__init__.py
+-rw-r--r--  2.0 unx      730 b- defN 23-Aug-02 08:22 modal_base_images/client_mount.py
+-rw-r--r--  2.0 unx      324 b- defN 23-Aug-02 08:22 modal_base_images/conda.py
+-rw-r--r--  2.0 unx      330 b- defN 23-Aug-02 08:22 modal_base_images/debian_slim.py
+-rw-r--r--  2.0 unx      329 b- defN 23-Aug-02 08:22 modal_base_images/micromamba.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 08:22 modal_proto/__init__.py
+-rw-r--r--  2.0 unx    32918 b- defN 23-Aug-02 08:22 modal_proto/api.proto
+-rw-r--r--  2.0 unx    55111 b- defN 23-Aug-02 08:22 modal_proto/api_grpc.py
+-rw-r--r--  2.0 unx   138479 b- defN 23-Aug-02 08:22 modal_proto/api_pb2.py
+-rw-r--r--  2.0 unx   119140 b- defN 23-Aug-02 08:22 modal_proto/api_pb2_grpc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 08:22 modal_test_support/__init__.py
+-rw-r--r--  2.0 unx      134 b- defN 23-Aug-02 08:22 modal_test_support/assert_package.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Aug-02 08:22 modal_test_support/consumed_map.py
+-rw-r--r--  2.0 unx     3013 b- defN 23-Aug-02 08:22 modal_test_support/functions.py
+-rw-r--r--  2.0 unx      183 b- defN 23-Aug-02 08:22 modal_test_support/hello.py
+-rw-r--r--  2.0 unx      266 b- defN 23-Aug-02 08:22 modal_test_support/image_run_function.py
+-rw-r--r--  2.0 unx      180 b- defN 23-Aug-02 08:22 modal_test_support/is_inside.py
+-rw-r--r--  2.0 unx      187 b- defN 23-Aug-02 08:22 modal_test_support/missing_main_conditional.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Aug-02 08:22 modal_test_support/module_1.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Aug-02 08:22 modal_test_support/module_2.py
+-rw-r--r--  2.0 unx      276 b- defN 23-Aug-02 08:22 modal_test_support/multistub.py
+-rw-r--r--  2.0 unx      228 b- defN 23-Aug-02 08:22 modal_test_support/multistub_is_inside.py
+-rw-r--r--  2.0 unx      222 b- defN 23-Aug-02 08:22 modal_test_support/multistub_is_inside_warning.py
+-rw-r--r--  2.0 unx      268 b- defN 23-Aug-02 08:22 modal_test_support/multistub_privately_decorated.py
+-rw-r--r--  2.0 unx      210 b- defN 23-Aug-02 08:22 modal_test_support/multistub_privately_decorated_named_stub.py
+-rw-r--r--  2.0 unx      217 b- defN 23-Aug-02 08:22 modal_test_support/multistub_same_name.py
+-rw-r--r--  2.0 unx      218 b- defN 23-Aug-02 08:22 modal_test_support/multistub_serialized_func.py
+-rw-r--r--  2.0 unx      196 b- defN 23-Aug-02 08:22 modal_test_support/package_mount.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Aug-02 08:22 modal_test_support/progress_info.py
+-rw-r--r--  2.0 unx      153 b- defN 23-Aug-02 08:22 modal_test_support/script.py
+-rw-r--r--  2.0 unx      178 b- defN 23-Aug-02 08:22 modal_test_support/startup_failure.py
+-rw-r--r--  2.0 unx      177 b- defN 23-Aug-02 08:22 modal_test_support/stub.py
+-rw-r--r--  2.0 unx      144 b- defN 23-Aug-02 08:22 modal_test_support/unconsumed_map.py
+-rw-r--r--  2.0 unx      123 b- defN 23-Aug-02 08:22 modal_test_support/webhook_forgot_function.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Aug-02 08:22 modal_utils/__init__.py
+-rw-r--r--  2.0 unx      465 b- defN 23-Aug-02 08:22 modal_utils/app_utils.py
+-rw-r--r--  2.0 unx    11728 b- defN 23-Aug-02 08:22 modal_utils/async_utils.py
+-rw-r--r--  2.0 unx     6538 b- defN 23-Aug-02 08:22 modal_utils/grpc_testing.py
+-rw-r--r--  2.0 unx     9320 b- defN 23-Aug-02 08:22 modal_utils/grpc_utils.py
+-rw-r--r--  2.0 unx     1597 b- defN 23-Aug-02 08:22 modal_utils/hash_utils.py
+-rw-r--r--  2.0 unx     1426 b- defN 23-Aug-02 08:22 modal_utils/http_utils.py
+-rw-r--r--  2.0 unx      113 b- defN 23-Aug-02 08:22 modal_utils/logger.py
+-rw-r--r--  2.0 unx     1226 b- defN 23-Aug-02 08:22 modal_utils/package_utils.py
+-rw-r--r--  2.0 unx      458 b- defN 23-Aug-02 08:22 modal_version/__init__.py
+-rw-r--r--  2.0 unx       48 b- defN 23-Aug-02 08:22 modal_version/_version_generated.py
+-rw-r--r--  2.0 unx    10173 b- defN 23-Aug-02 08:23 modal_client-0.50.2877.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1923 b- defN 23-Aug-02 08:23 modal_client-0.50.2877.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-02 08:23 modal_client-0.50.2877.dist-info/WHEEL
+-rw-r--r--  2.0 unx       46 b- defN 23-Aug-02 08:23 modal_client-0.50.2877.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       93 b- defN 23-Aug-02 08:23 modal_client-0.50.2877.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    14083 b- defN 23-Aug-02 08:23 modal_client-0.50.2877.dist-info/RECORD
+173 files, 1171047 bytes uncompressed, 262366 bytes compressed:  77.6%
```

## zipnote {}

```diff
@@ -153,17 +153,14 @@
 
 Filename: modal/_ipython.py
 Comment: 
 
 Filename: modal/_location.py
 Comment: 
 
-Filename: modal/_object_meta.py
-Comment: 
-
 Filename: modal/_output.py
 Comment: 
 
 Filename: modal/_proxy_tunnel.py
 Comment: 
 
 Filename: modal/_pty.py
@@ -498,26 +495,26 @@
 
 Filename: modal_version/__init__.py
 Comment: 
 
 Filename: modal_version/_version_generated.py
 Comment: 
 
-Filename: modal_client-0.50.2870.dist-info/LICENSE
+Filename: modal_client-0.50.2877.dist-info/LICENSE
 Comment: 
 
-Filename: modal_client-0.50.2870.dist-info/METADATA
+Filename: modal_client-0.50.2877.dist-info/METADATA
 Comment: 
 
-Filename: modal_client-0.50.2870.dist-info/WHEEL
+Filename: modal_client-0.50.2877.dist-info/WHEEL
 Comment: 
 
-Filename: modal_client-0.50.2870.dist-info/entry_points.txt
+Filename: modal_client-0.50.2877.dist-info/entry_points.txt
 Comment: 
 
-Filename: modal_client-0.50.2870.dist-info/top_level.txt
+Filename: modal_client-0.50.2877.dist-info/top_level.txt
 Comment: 
 
-Filename: modal_client-0.50.2870.dist-info/RECORD
+Filename: modal_client-0.50.2877.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## client_test/resolver_test.py

```diff
@@ -12,21 +12,21 @@
 @pytest.mark.asyncio
 async def test_multi_resolve_sequential_loads_once():
     output_manager = OutputManager(None, show_progress=False)
     resolver = Resolver(None, output_mgr=output_manager, environment_name="", app_id=None)
 
     load_count = 0
 
-    class _DumbHandle(_Handle):
+    class _DumbHandle(_Handle, type_prefix="zz"):
         pass
 
-    class _DumbProvider(_Provider[_DumbHandle]):
+    class _DumbProvider(_Provider, type_prefix="zz"):
         pass
 
-    async def _load(resolver: Resolver, existing_object_id: Optional[str], handle: _DumbHandle):
+    async def _load(resolver: Resolver, existing_object_id: Optional[str], handle: _Handle):
         nonlocal load_count
         load_count += 1
         await asyncio.sleep(0.1)
 
     obj = _DumbProvider._from_loader(_load, "DumbProvider()")
 
     t0 = time.monotonic()
@@ -40,21 +40,21 @@
 @pytest.mark.asyncio
 async def test_multi_resolve_concurrent_loads_once():
     output_manager = OutputManager(None, show_progress=False)
     resolver = Resolver(None, output_mgr=output_manager, environment_name="", app_id=None)
 
     load_count = 0
 
-    class _DumbHandle(_Handle):
+    class _DumbHandle(_Handle, type_prefix="zz"):
         pass
 
-    class _DumbProvider(_Provider[_DumbHandle]):
+    class _DumbProvider(_Provider, type_prefix="zz"):
         pass
 
-    async def _load(resolver: Resolver, existing_object_id: Optional[str], handle: _DumbHandle):
+    async def _load(resolver: Resolver, existing_object_id: Optional[str], handle: _Handle):
         nonlocal load_count
         load_count += 1
         await asyncio.sleep(0.1)
 
     obj = _DumbProvider._from_loader(_load, "DumbProvider()")
     t0 = time.monotonic()
     await asyncio.gather(resolver.load(obj), resolver.load(obj))
```

## client_test/serialization_test.py

```diff
@@ -1,27 +1,40 @@
 # Copyright Modal Labs 2022
 import pytest
 
 from modal import Queue, Stub
 from modal._serialization import deserialize, serialize
+from modal.queue import QueueHandle
 
 stub = Stub()
 
 stub.q = Queue.new()
 
 
 @pytest.mark.asyncio
-async def test_persistent_object(servicer, client):
+async def test_handle(servicer, client):
     async with stub.run(client=client) as running_app:
         q = running_app.q
         data = serialize(q)
         # TODO: strip synchronizer reference from synchronicity entities!
         assert len(data) < 350  # Used to be 93...
         # Note: if this blows up significantly, it's most likely because
         # cloudpickle can't find a class in the global scope. When this
         # happens, it tries to serialize the entire class along with the
         # object. The reason it doesn't find the class in the global scope
         # is most likely because the name doesn't match. To fix this, make
         # sure that cls.__name__ (which is something synchronicity sets)
         # is the same as the symbol defined in the global scope.
         q_roundtrip = deserialize(data, running_app)
+        assert isinstance(q_roundtrip, QueueHandle)
+        assert q.object_id == q_roundtrip.object_id
+
+
+@pytest.mark.asyncio
+async def test_provider(servicer, client):
+    async with stub.run(client=client) as running_app:
+        q = stub.q
+        data = serialize(q)
+        assert len(data) < 350
+        q_roundtrip = deserialize(data, running_app)
+        assert isinstance(q_roundtrip, Queue)
         assert q.object_id == q_roundtrip.object_id
```

## modal/_serialization.py

```diff
@@ -1,28 +1,32 @@
 # Copyright Modal Labs 2022
 import io
 import pickle
 
 import cloudpickle
 
 from .exception import InvalidError
-from .object import Handle, _Handle
+from .object import Handle, Provider, _Handle, _Provider
 
 PICKLE_PROTOCOL = 4  # Support older Python versions.
 
 
 class Pickler(cloudpickle.Pickler):
     def __init__(self, buf):
         super().__init__(buf, protocol=PICKLE_PROTOCOL)
 
     def persistent_id(self, obj):
         if isinstance(obj, _Handle):
             flag = "_h"
         elif isinstance(obj, Handle):
             flag = "h"
+        elif isinstance(obj, _Provider):
+            flag = "_p"
+        elif isinstance(obj, Provider):
+            flag = "p"
         else:
             return
         if not obj.object_id:
             raise InvalidError(f"Can't serialize object {obj} which hasn't been created.")
         return (obj.object_id, flag, obj._get_metadata())
 
 
@@ -33,14 +37,18 @@
 
     def persistent_load(self, pid):
         (object_id, flag, handle_proto) = pid
         if flag == "h":
             return Handle._new_hydrated(object_id, self.client, handle_proto)
         elif flag == "_h":
             return _Handle._new_hydrated(object_id, self.client, handle_proto)
+        elif flag == "p":
+            return Provider._new_hydrated(object_id, self.client, handle_proto)
+        elif flag == "_p":
+            return _Provider._new_hydrated(object_id, self.client, handle_proto)
         else:
             raise InvalidError("bad flag")
 
 
 def serialize(obj):
     """Serializes object and replaces all references to the client class by a placeholder."""
     buf = io.BytesIO()
```

## modal/client.pyi

```diff
@@ -11,15 +11,15 @@
 
 
 async def _grpc_exc_string(exc: grpclib.exceptions.GRPCError, method_name: str, server_url: str, timeout: float) -> str:
     ...
 
 
 class _Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2870', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2877', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     async def _open(self):
@@ -67,15 +67,15 @@
 
     @property
     def function_invocations(self):
         ...
 
 
 class Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2870', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2877', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     class ___open_spec(typing_extensions.Protocol):
```

## modal/dict.py

```diff
@@ -99,15 +99,15 @@
         """
         return await self.contains(key)
 
 
 DictHandle = synchronize_api(_DictHandle)
 
 
-class _Dict(_Provider[_DictHandle]):
+class _Dict(_Provider, type_prefix="di"):
     """A distributed dictionary available to Modal apps.
 
     Keys and values can be essentially any object, so long as it can be
     serialized by `cloudpickle`, including Modal objects.
 
     **Lifetime of dictionary and its items**
```

## modal/dict.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import modal.object
 import typing
 import typing_extensions
 
 def _serialize_dict(data):
     ...
 
@@ -130,15 +129,15 @@
 
         async def aio(self, *args, **kwargs) -> bool:
             ...
 
     __contains__: ____contains___spec
 
 
-class _Dict(modal.object._Provider[_DictHandle]):
+class _Dict(modal.object._Provider):
     @staticmethod
     def new(data={}) -> _Dict:
         ...
 
     def __init__(self, data={}):
         ...
 
@@ -176,15 +175,15 @@
     async def __delitem__(self, key: typing.Any) -> typing.Any:
         ...
 
     async def __contains__(self, key: typing.Any) -> bool:
         ...
 
 
-class Dict(modal.object.Provider[DictHandle]):
+class Dict(modal.object.Provider):
     def __init__(self, data={}):
         ...
 
     @staticmethod
     def new(data={}) -> Dict:
         ...
```

## modal/functions.py

```diff
@@ -791,15 +791,15 @@
         # We should fix this in the future since it probably precludes using classmethods/staticmethods
         self._self_obj = obj
 
 
 FunctionHandle = synchronize_api(_FunctionHandle)
 
 
-class _Function(_Provider[_FunctionHandle]):
+class _Function(_Provider, type_prefix="fu"):
     """Functions are the basic units of serverless execution on Modal.
 
     Generally, you will not construct a `Function` directly. Instead, use the
     `@stub.function()` decorator on the `Stub` object for your application.
     """
 
     # TODO: more type annotations
```

## modal/functions.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import google.protobuf.message
 import modal._function_utils
 import modal._output
 import modal.call_graph
 import modal.client
 import modal.gpu
 import modal.image
@@ -326,15 +325,15 @@
 
     get_current_stats: __get_current_stats_spec
 
     def _bind_obj(self, obj, objtype):
         ...
 
 
-class _Function(modal.object._Provider[_FunctionHandle]):
+class _Function(modal.object._Provider):
     _secrets: typing.Collection[modal.secret._Secret]
     _info: modal._function_utils.FunctionInfo
     _mounts: typing.Collection[modal.mount._Mount]
     _network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem]
     _allow_cross_region_volumes: bool
     _volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume]
     _image: typing.Union[modal.image._Image, None]
@@ -398,15 +397,15 @@
     def get_raw_f(self) -> typing.Callable[..., typing.Any]:
         ...
 
     async def get_current_stats(self) -> FunctionStats:
         ...
 
 
-class Function(modal.object.Provider[FunctionHandle]):
+class Function(modal.object.Provider):
     _secrets: typing.Collection[modal.secret.Secret]
     _info: modal._function_utils.FunctionInfo
     _mounts: typing.Collection[modal.mount.Mount]
     _network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem]
     _allow_cross_region_volumes: bool
     _volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume]
     _image: typing.Union[modal.image.Image, None]
```

## modal/image.py

```diff
@@ -121,15 +121,15 @@
         )
 
 
 if typing.TYPE_CHECKING:
     import modal.functions
 
 
-class _Image(_Provider[_ImageHandle]):
+class _Image(_Provider, type_prefix="im"):
     """Base class for container images to run functions in.
 
     Do not construct this class directly; instead use one of its static factory methods,
     such as `modal.Image.debian_slim`, `modal.Image.from_dockerhub`, or `modal.Image.conda`.
     """
 
     force_build: bool = False
@@ -1139,15 +1139,14 @@
         gpu: GPU_T = None,  # GPU specification as string ("any", "T4", "A10G", ...) or object (`modal.GPU.A100()`, ...)
         mounts: Sequence[_Mount] = (),
         shared_volumes: Dict[Union[str, os.PathLike], _NetworkFileSystem] = {},
         network_file_systems: Dict[Union[str, os.PathLike], _NetworkFileSystem] = {},
         cpu: Optional[float] = None,  # How many CPU cores to request. This is a soft limit.
         memory: Optional[int] = None,  # How much memory to request, in MiB. This is a soft limit.
         timeout: Optional[int] = 86400,  # Maximum execution time of the function in seconds.
-        cloud: Optional[str] = None,  # Cloud provider to run the function on. Possible values are aws, gcp, oci, auto.
         force_build: bool = False,
     ) -> "_Image":
         """Run user-defined function `raw_function` as an image build step. The function runs just like an ordinary Modal
         function, and any kwargs accepted by `@stub.function` (such as `Mount`s, `NetworkFileSystem`s, and resource requests) can
         be supplied to it. After it finishes execution, a snapshot of the resulting container file system is saved as an image.
 
         **Note**
@@ -1190,15 +1189,14 @@
             secrets=secrets,
             gpu=gpu,
             mounts=mounts,
             network_file_systems=network_file_systems,
             memory=memory,
             timeout=timeout,
             cpu=cpu,
-            cloud=cloud,
             is_builder_function=True,
         )
         return self.extend(build_function=function, force_build=self.force_build or force_build)
 
     @typechecked
     def env(self, vars: Dict[str, str]) -> "_Image":
         """Sets the environmental variables of the image.
```

## modal/image.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import modal._resolver
 import modal.functions
 import modal.gpu
 import modal.mount
 import modal.network_file_system
 import modal.object
 import modal.secret
@@ -36,15 +35,15 @@
     def __init__(self, registry_type: int = 0, secret: typing.Union[modal.secret._Secret, None] = None):
         ...
 
     async def resolve(self, resolver: modal._resolver.Resolver) -> modal_proto.api_pb2.ImageRegistryConfig:
         ...
 
 
-class _Image(modal.object._Provider[_ImageHandle]):
+class _Image(modal.object._Provider):
     force_build: bool
 
     @staticmethod
     def _from_args(base_images={}, context_files={}, dockerfile_commands: typing.Union[typing.List[str], typing.Callable[[], typing.List[str]]] = [], secrets: typing.Sequence[modal.secret._Secret] = [], ref=None, gpu_config: typing.Union[modal_proto.api_pb2.GPUConfig, None] = None, build_function: modal.functions._Function = None, context_mount: typing.Union[modal.mount._Mount, None] = None, image_registry_config: typing.Union[_ImageRegistryConfig, None] = None, force_build: bool = False, _namespace: int = 1):
         ...
 
     def extend(self, *, context_files={}, dockerfile_commands: typing.Union[typing.List[str], typing.Callable[[], typing.List[str]]] = [], secrets: typing.Sequence[modal.secret._Secret] = [], ref=None, gpu_config: typing.Union[modal_proto.api_pb2.GPUConfig, None] = None, build_function: modal.functions._Function = None, context_mount: typing.Union[modal.mount._Mount, None] = None, image_registry_config: typing.Union[_ImageRegistryConfig, None] = None, force_build: bool = False, _namespace: int = 1) -> _Image:
@@ -123,15 +122,15 @@
     @staticmethod
     def debian_slim(python_version: typing.Union[str, None] = None, force_build: bool = False) -> _Image:
         ...
 
     def apt_install(self, *packages: typing.Union[str, typing.List[str]], force_build: bool = False, secrets: typing.Sequence[modal.secret._Secret] = [], gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None) -> _Image:
         ...
 
-    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, cloud: typing.Union[str, None] = None, force_build: bool = False) -> _Image:
+    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, force_build: bool = False) -> _Image:
         ...
 
     def env(self, vars: typing.Dict[str, str]) -> _Image:
         ...
 
     def workdir(self, path: str) -> _Image:
         ...
@@ -141,15 +140,15 @@
     def __init__(self):
         ...
 
     def _is_inside(self) -> bool:
         ...
 
 
-class Image(modal.object.Provider[ImageHandle]):
+class Image(modal.object.Provider):
     force_build: bool
 
     def __init__(self):
         ...
 
     @staticmethod
     def _from_args(base_images={}, context_files={}, dockerfile_commands: typing.Union[typing.List[str], typing.Callable[[], typing.List[str]]] = [], secrets: typing.Sequence[modal.secret.Secret] = [], ref=None, gpu_config: typing.Union[modal_proto.api_pb2.GPUConfig, None] = None, build_function: modal.functions.Function = None, context_mount: typing.Union[modal.mount.Mount, None] = None, image_registry_config: typing.Union[_ImageRegistryConfig, None] = None, force_build: bool = False, _namespace: int = 1):
@@ -231,15 +230,15 @@
     @staticmethod
     def debian_slim(python_version: typing.Union[str, None] = None, force_build: bool = False) -> Image:
         ...
 
     def apt_install(self, *packages: typing.Union[str, typing.List[str]], force_build: bool = False, secrets: typing.Sequence[modal.secret.Secret] = [], gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None) -> Image:
         ...
 
-    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, cloud: typing.Union[str, None] = None, force_build: bool = False) -> Image:
+    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, force_build: bool = False) -> Image:
         ...
 
     def env(self, vars: typing.Dict[str, str]) -> Image:
         ...
 
     def workdir(self, path: str) -> Image:
         ...
```

## modal/mount.py

```diff
@@ -112,15 +112,15 @@
         assert isinstance(handle_metadata, api_pb2.MountHandleMetadata)
         self._content_checksum_sha256_hex = handle_metadata.content_checksum_sha256_hex
 
 
 MountHandle = synchronize_api(_MountHandle)
 
 
-class _Mount(_Provider[_MountHandle]):
+class _Mount(_Provider, type_prefix="mo"):
     """Create a mount for a local directory or file that can be attached
     to one or more Modal functions.
 
     **Usage**
 
     ```python
     import modal
```

## modal/mount.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import google.protobuf.message
 import modal._blob_utils
 import modal._resolver
 import modal.object
 import pathlib
 import typing
 import typing_extensions
@@ -85,15 +84,15 @@
     def __init__(self):
         ...
 
     def _hydrate_metadata(self, handle_metadata: google.protobuf.message.Message):
         ...
 
 
-class _Mount(modal.object._Provider[_MountHandle]):
+class _Mount(modal.object._Provider):
     _entries: typing.List[_MountEntry]
 
     @staticmethod
     def _from_entries(*entries: _MountEntry) -> _Mount:
         ...
 
     @staticmethod
@@ -134,15 +133,15 @@
         ...
 
     @staticmethod
     def from_local_python_packages(*module_names: str) -> _Mount:
         ...
 
 
-class Mount(modal.object.Provider[MountHandle]):
+class Mount(modal.object.Provider):
     _entries: typing.List[_MountEntry]
 
     def __init__(self):
         ...
 
     @staticmethod
     def _from_entries(*entries: _MountEntry) -> Mount:
```

## modal/network_file_system.py

```diff
@@ -151,15 +151,15 @@
         req = api_pb2.SharedVolumeRemoveFileRequest(shared_volume_id=self._object_id, path=path, recursive=recursive)
         await retry_transient_errors(self._client.stub.SharedVolumeRemoveFile, req)
 
 
 NetworkFileSystemHandle = synchronize_api(_NetworkFileSystemHandle)
 
 
-class _NetworkFileSystem(_Provider[_NetworkFileSystemHandle]):
+class _NetworkFileSystem(_Provider, type_prefix="sv"):
     """A shared, writable file system accessible by one or more Modal functions.
 
     By attaching this file system as a mount to one or more functions, they can
     share and persist data with each other.
 
     **Usage**
```

## modal/network_file_system.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import modal.object
 import modal_proto.api_pb2
 import pathlib
 import typing
 import typing_extensions
 
 class _NetworkFileSystemHandle(modal.object._Handle):
@@ -92,15 +91,15 @@
 
         async def aio(self, *args, **kwargs):
             ...
 
     remove_file: __remove_file_spec
 
 
-class _NetworkFileSystem(modal.object._Provider[_NetworkFileSystemHandle]):
+class _NetworkFileSystem(modal.object._Provider):
     @staticmethod
     def new(cloud: typing.Union[str, None] = None) -> _NetworkFileSystem:
         ...
 
     @staticmethod
     def persisted(label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> _NetworkFileSystem:
         ...
@@ -126,15 +125,15 @@
     async def listdir(self, path: str) -> typing.List[modal_proto.api_pb2.SharedVolumeListFilesEntry]:
         ...
 
     async def remove_file(self, path: str, recursive=False):
         ...
 
 
-class NetworkFileSystem(modal.object.Provider[NetworkFileSystemHandle]):
+class NetworkFileSystem(modal.object.Provider):
     def __init__(self):
         ...
 
     @staticmethod
     def new(cloud: typing.Union[str, None] = None) -> NetworkFileSystem:
         ...
```

## modal/object.py

```diff
@@ -1,42 +1,49 @@
 # Copyright Modal Labs 2022
 import uuid
 from datetime import date
-from typing import Awaitable, Callable, Generic, Optional, Type, TypeVar
+from typing import Awaitable, Callable, Dict, Optional, Type, TypeVar
 
 from google.protobuf.message import Message
 from grpclib import GRPCError, Status
 
 from modal._types import typechecked
 from modal_proto import api_pb2
 from modal_utils.async_utils import synchronize_api
 from modal_utils.grpc_utils import get_proto_oneof, retry_transient_errors
 
-from ._object_meta import ObjectMeta
 from ._resolver import Resolver
 from .client import _Client
 from .config import config
 from .exception import InvalidError, NotFoundError, deprecation_error
 
 H = TypeVar("H", bound="_Handle")
 
 _BLOCKING_H = synchronize_api(H)
 
 
-class _Handle(metaclass=ObjectMeta):
+class _Handle:
     """mdmd:hidden The shared base class of any synced/distributed object in Modal.
 
     Examples of objects include Modal primitives like Images and Functions, as
     well as distributed data structures like Queues or Dicts.
     """
 
-    _type_prefix: str  # class attribute
+    _type_prefix: Optional[str] = None  # class attribute
     _object_id: str
     _client: _Client
     _is_hydrated: bool
+    _prefix_to_type: Dict[str, type] = {}
+
+    @classmethod
+    def __init_subclass__(cls, type_prefix: Optional[str] = None):
+        super().__init_subclass__()
+        if type_prefix is not None:
+            cls._type_prefix = type_prefix
+            cls._prefix_to_type[type_prefix] = cls
 
     def __init__(self):
         raise Exception("__init__ disallowed, use proper classmethods")
 
     def _init(self):
         self._object_id = None
         self._client = None
@@ -90,17 +97,17 @@
             object_cls = cls
         else:
             # This is called on the base class, e.g. Handle.from_id
             parts = object_id.split("-")
             if len(parts) != 2:
                 raise InvalidError(f"Object id {object_id} has no dash in it")
             prefix = parts[0]
-            if prefix not in ObjectMeta.prefix_to_type:
+            if prefix not in cls._prefix_to_type:
                 raise InvalidError(f"Object prefix {prefix} does not correspond to a type")
-            object_cls = ObjectMeta.prefix_to_type[prefix]
+            object_cls = cls._prefix_to_type[prefix]
 
         # Instantiate object and return
         obj = object_cls._new()
         obj._hydrate(object_id, client, handle_metadata)
         return obj
 
     @classmethod
@@ -162,77 +169,104 @@
 
 
 P = TypeVar("P", bound="_Provider")
 
 _BLOCKING_P = synchronize_api(P)
 
 
-class _Provider(Generic[H]):
-    _load: Callable[[Resolver, Optional[str], H], Awaitable[None]]
-    _preload: Optional[Callable[[Resolver, Optional[str], H], Awaitable[None]]]
-    _handle: H
+class _Provider:
+    _type_prefix: Optional[str] = None  # class attribute
+    _load: Optional[Callable[[Resolver, Optional[str], _Handle], Awaitable[None]]]
+    _preload: Optional[Callable[[Resolver, Optional[str], _Handle], Awaitable[None]]]
+    _handle: _Handle
+    _prefix_to_type: Dict[str, type] = {}
+
+    @classmethod
+    def __init_subclass__(cls, type_prefix: Optional[str] = None):
+        super().__init_subclass__()
+        if type_prefix is not None:
+            cls._type_prefix = type_prefix
+            cls._prefix_to_type[type_prefix] = cls
 
     def __init__(self):
         raise Exception("__init__ disallowed, use proper classmethods")
 
     @classmethod
-    def _get_handle_cls(cls) -> Type[H]:
-        (base,) = cls.__orig_bases__  # type: ignore
-        (handle_cls,) = base.__args__
-        return handle_cls
+    def _get_handle_cls(cls) -> Type[_Handle]:
+        return _Handle._prefix_to_type[cls._type_prefix]
 
     def _init(
         self,
-        load: Callable[[Resolver, Optional[str], H], Awaitable[None]],
         rep: str,
+        load: Optional[Callable[[Resolver, Optional[str], _Handle], Awaitable[None]]] = None,
         is_persisted_ref: bool = False,
-        preload: Optional[Callable[[Resolver, Optional[str], H], Awaitable[None]]] = None,
+        preload: Optional[Callable[[Resolver, Optional[str], _Handle], Awaitable[None]]] = None,
+        handle: Optional[_Handle] = None,
     ):
         self._local_uuid = str(uuid.uuid4())
         self._load = load
         self._preload = preload
         self._rep = rep
         self._is_persisted_ref = is_persisted_ref
 
-        # Create an unhydrated handle
-        handle_cls = self._get_handle_cls()
-        self._handle = handle_cls._new()
+        if handle is None:
+            # Create an unhydrated handle
+            handle_cls = self._get_handle_cls()
+            handle = handle_cls._new()
+        self._handle = handle
 
     def _init_from_other(self, other: "_Provider"):
         # Transient use case, see Dict, Queue, and SharedVolume
-        self._init(other._load, other._rep, other._is_persisted_ref, other._preload)
+        self._init(other._rep, other._load, other._is_persisted_ref, other._preload)
 
     @classmethod
     def _from_loader(
         cls,
-        load: Callable[[Resolver, Optional[str], H], Awaitable[None]],
+        load: Callable[[Resolver, Optional[str], _Handle], Awaitable[None]],
         rep: str,
         is_persisted_ref: bool = False,
-        preload: Optional[Callable[[Resolver, Optional[str], H], Awaitable[None]]] = None,
+        preload: Optional[Callable[[Resolver, Optional[str], _Handle], Awaitable[None]]] = None,
     ):
-        obj = _Handle.__new__(cls)
-        obj._init(load, rep, is_persisted_ref, preload)
+        # TODO(erikbern): flip the order of the two first arguments
+        obj = _Provider.__new__(cls)
+        obj._init(rep, load, is_persisted_ref, preload)
+        return obj
+
+    @classmethod
+    def _new_hydrated(cls: Type[P], object_id: str, client: _Client, handle_metadata: Optional[Message]) -> P:
+        handle = _Handle._new_hydrated(object_id, client, handle_metadata)
+        provider_cls = cls._prefix_to_type[handle._type_prefix]
+        obj = _Provider.__new__(provider_cls)
+        rep = f"Provider({object_id})"  # TODO(erikbern): dumb
+        obj._init(rep, handle=handle)
         return obj
 
     def __repr__(self):
         return self._rep
 
     @property
     def local_uuid(self):
         """mdmd:hidden"""
         return self._local_uuid
 
+    @property
+    def object_id(self):
+        return self._handle.object_id
+
+    def _get_metadata(self) -> Optional[Message]:
+        return self._handle._get_metadata()
+
     async def _deploy(
         self,
         label: str,
         namespace=api_pb2.DEPLOYMENT_NAMESPACE_WORKSPACE,
         client: Optional[_Client] = None,
         environment_name: Optional[str] = None,
-        handle: Optional[H] = None,
-    ) -> H:
+        handle: Optional[_Handle] = None,
+    ) -> _Handle:
         """
         Note 1: this uses the single-object app method, which we're planning to get rid of later
         Note 2: still considering this an "internal" method, but we'll make it "official" later
         """
         from .app import _App
 
         if environment_name is None:
@@ -266,15 +300,15 @@
     @typechecked
     def _persist(
         self, label: str, namespace=api_pb2.DEPLOYMENT_NAMESPACE_WORKSPACE, environment_name: Optional[str] = None
     ):
         if environment_name is None:
             environment_name = config.get("environment")
 
-        async def _load_persisted(resolver: Resolver, existing_object_id: Optional[str], handle: H):
+        async def _load_persisted(resolver: Resolver, existing_object_id: Optional[str], handle: _Handle):
             await self._deploy(label, namespace, resolver.client, environment_name=environment_name, handle=handle)
 
         cls = type(self)
         rep = f"PersistedRef<{self}>({label})"
         return cls._from_loader(_load_persisted, rep, is_persisted_ref=True)
 
     @classmethod
@@ -296,15 +330,15 @@
 
         @stub.function(secret=modal.Secret.from_name("my-secret-name"))
         def some_function():
             pass
         ```
         """
 
-        async def _load_remote(resolver: Resolver, existing_object_id: Optional[str], handle: H):
+        async def _load_remote(resolver: Resolver, existing_object_id: Optional[str], handle: _Handle):
             nonlocal environment_name
             if environment_name is None:
                 # resolver always has an environment name, associated with the current app setup
                 # fall back on that one if no explicit environment was set in the call itself
                 environment_name = resolver.environment_name
 
             await handle._hydrate_from_app(
@@ -319,28 +353,28 @@
     async def lookup(
         cls: Type[P],
         app_name: str,
         tag: Optional[str] = None,
         namespace=api_pb2.DEPLOYMENT_NAMESPACE_WORKSPACE,
         client: Optional[_Client] = None,
         environment_name: Optional[str] = None,
-    ) -> H:
+    ) -> _Handle:
         """
         General purpose method to retrieve Modal objects such as functions, network file systems, and secrets.
         ```python notest
         import modal
         square = modal.Function.lookup("my-shared-app", "square")
         assert square(3) == 9
         nfs = modal.NetworkFileSystem.lookup("my-nfs")
         for chunk in nfs.read_file("my_db_dump.csv"):
             ...
         ```
         """
         handle_cls = cls._get_handle_cls()
-        handle: H = handle_cls._new()
+        handle: _Handle = handle_cls._new()
         await handle._hydrate_from_app(app_name, tag, namespace, client, environment_name=environment_name)
         return handle
 
     @classmethod
     async def _exists(
         cls: Type[P],
         app_name: str,
@@ -366,10 +400,8 @@
         except GRPCError as exc:
             if exc.status == Status.NOT_FOUND:
                 return False
             else:
                 raise
 
 
-# Dumb but needed becauase it's in the hierarchy
-synchronize_api(Generic, __name__)  # erases base Generic type...
 Provider = synchronize_api(_Provider, target_module=__name__)
```

## modal/object.pyi

```diff
@@ -5,18 +5,23 @@
 import typing_extensions
 
 H = typing.TypeVar("H", bound="_Handle")
 
 _BLOCKING_H = typing.TypeVar("_BLOCKING_H", bound="Handle")
 
 class _Handle:
-    _type_prefix: str
+    _type_prefix: typing.Union[str, None]
     _object_id: str
     _client: modal.client._Client
     _is_hydrated: bool
+    _prefix_to_type: typing.Dict[str, type]
+
+    @classmethod
+    def __init_subclass__(cls, type_prefix: typing.Union[str, None] = None):
+        ...
 
     def __init__(self):
         ...
 
     def _init(self):
         ...
 
@@ -55,22 +60,27 @@
         ...
 
     async def _hydrate_from_app(self: H, app_name: str, tag: typing.Union[str, None] = None, namespace=1, client: typing.Union[modal.client._Client, None] = None, environment_name: typing.Union[str, None] = None) -> H:
         ...
 
 
 class Handle:
-    _type_prefix: str
+    _type_prefix: typing.Union[str, None]
     _object_id: str
     _client: modal.client.Client
     _is_hydrated: bool
+    _prefix_to_type: typing.Dict[str, type]
 
     def __init__(self):
         ...
 
+    @classmethod
+    def __init_subclass__(cls, type_prefix: typing.Union[str, None] = None):
+        ...
+
     def _init(self):
         ...
 
     @classmethod
     def _new(cls: typing.Type[_BLOCKING_H]) -> _BLOCKING_H:
         ...
 
@@ -114,105 +124,139 @@
     _hydrate_from_app: ___hydrate_from_app_spec
 
 
 P = typing.TypeVar("P", bound="_Provider")
 
 _BLOCKING_P = typing.TypeVar("_BLOCKING_P", bound="Provider")
 
-class _Provider(typing.Generic[H]):
-    _load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], H], typing.Awaitable[None]]
-    _preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], H], typing.Awaitable[None]], None]
-    _handle: H
+class _Provider:
+    _type_prefix: typing.Union[str, None]
+    _load: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _Handle], typing.Awaitable[None]], None]
+    _preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _Handle], typing.Awaitable[None]], None]
+    _handle: _Handle
+    _prefix_to_type: typing.Dict[str, type]
+
+    @classmethod
+    def __init_subclass__(cls, type_prefix: typing.Union[str, None] = None):
+        ...
 
     def __init__(self):
         ...
 
     @classmethod
-    def _get_handle_cls(cls) -> typing.Type[H]:
+    def _get_handle_cls(cls) -> typing.Type[_Handle]:
         ...
 
-    def _init(self, load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], H], typing.Awaitable[None]], rep: str, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], H], typing.Awaitable[None]], None] = None):
+    def _init(self, rep: str, load: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _Handle], typing.Awaitable[None]], None] = None, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _Handle], typing.Awaitable[None]], None] = None, handle: typing.Union[_Handle, None] = None):
         ...
 
     def _init_from_other(self, other: _Provider):
         ...
 
     @classmethod
-    def _from_loader(cls, load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], H], typing.Awaitable[None]], rep: str, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], H], typing.Awaitable[None]], None] = None):
+    def _from_loader(cls, load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _Handle], typing.Awaitable[None]], rep: str, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _Handle], typing.Awaitable[None]], None] = None):
+        ...
+
+    @classmethod
+    def _new_hydrated(cls: typing.Type[P], object_id: str, client: modal.client._Client, handle_metadata: typing.Union[google.protobuf.message.Message, None]) -> P:
         ...
 
     def __repr__(self):
         ...
 
     @property
     def local_uuid(self):
         ...
 
-    async def _deploy(self, label: str, namespace=1, client: typing.Union[modal.client._Client, None] = None, environment_name: typing.Union[str, None] = None, handle: typing.Union[H, None] = None) -> H:
+    @property
+    def object_id(self):
+        ...
+
+    def _get_metadata(self) -> typing.Union[google.protobuf.message.Message, None]:
+        ...
+
+    async def _deploy(self, label: str, namespace=1, client: typing.Union[modal.client._Client, None] = None, environment_name: typing.Union[str, None] = None, handle: typing.Union[_Handle, None] = None) -> _Handle:
         ...
 
     def persist(self, label: str, namespace=1, environment_name: typing.Union[str, None] = None):
         ...
 
     def _persist(self, label: str, namespace=1, environment_name: typing.Union[str, None] = None):
         ...
 
     @classmethod
     def from_name(cls: typing.Type[P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, environment_name: typing.Union[str, None] = None) -> P:
         ...
 
     @classmethod
-    async def lookup(cls: typing.Type[P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, client: typing.Union[modal.client._Client, None] = None, environment_name: typing.Union[str, None] = None) -> H:
+    async def lookup(cls: typing.Type[P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, client: typing.Union[modal.client._Client, None] = None, environment_name: typing.Union[str, None] = None) -> _Handle:
         ...
 
     @classmethod
     async def _exists(cls: typing.Type[P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, client: typing.Union[modal.client._Client, None] = None) -> bool:
         ...
 
 
-class Provider(typing.Generic[_BLOCKING_H]):
-    _load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], None]
-    _preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], None], None]
-    _handle: _BLOCKING_H
+class Provider:
+    _type_prefix: typing.Union[str, None]
+    _load: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], None], None]
+    _preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], None], None]
+    _handle: Handle
+    _prefix_to_type: typing.Dict[str, type]
 
     def __init__(self):
         ...
 
     @classmethod
-    def _get_handle_cls(cls) -> typing.Type[_BLOCKING_H]:
+    def __init_subclass__(cls, type_prefix: typing.Union[str, None] = None):
+        ...
+
+    @classmethod
+    def _get_handle_cls(cls) -> typing.Type[Handle]:
         ...
 
     class ___init_spec(typing_extensions.Protocol):
-        def __call__(self, load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], None], rep: str, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], None], None] = None):
+        def __call__(self, rep: str, load: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], None], None] = None, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], None], None] = None, handle: typing.Union[Handle, None] = None):
             ...
 
-        def aio(self, load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], typing.Awaitable[None]], rep: str, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], typing.Awaitable[None]], None] = None):
+        def aio(self, rep: str, load: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], typing.Awaitable[None]], None] = None, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], typing.Awaitable[None]], None] = None, handle: typing.Union[Handle, None] = None):
             ...
 
     _init: ___init_spec
 
     def _init_from_other(self, other: Provider):
         ...
 
     @classmethod
-    def _from_loader(cls, load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], None], rep: str, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], _BLOCKING_H], None], None] = None):
+    def _from_loader(cls, load: typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], None], rep: str, is_persisted_ref: bool = False, preload: typing.Union[typing.Callable[[modal._resolver.Resolver, typing.Union[str, None], Handle], None], None] = None):
+        ...
+
+    @classmethod
+    def _new_hydrated(cls: typing.Type[_BLOCKING_P], object_id: str, client: modal.client.Client, handle_metadata: typing.Union[google.protobuf.message.Message, None]) -> _BLOCKING_P:
         ...
 
     def __repr__(self):
         ...
 
     @property
     def local_uuid(self):
         ...
 
+    @property
+    def object_id(self):
+        ...
+
+    def _get_metadata(self) -> typing.Union[google.protobuf.message.Message, None]:
+        ...
+
     class ___deploy_spec(typing_extensions.Protocol):
-        def __call__(self, label: str, namespace=1, client: typing.Union[modal.client.Client, None] = None, environment_name: typing.Union[str, None] = None, handle: typing.Union[_BLOCKING_H, None] = None) -> _BLOCKING_H:
+        def __call__(self, label: str, namespace=1, client: typing.Union[modal.client.Client, None] = None, environment_name: typing.Union[str, None] = None, handle: typing.Union[Handle, None] = None) -> Handle:
             ...
 
-        async def aio(self, *args, **kwargs) -> _BLOCKING_H:
+        async def aio(self, *args, **kwargs) -> Handle:
             ...
 
     _deploy: ___deploy_spec
 
     def persist(self, label: str, namespace=1, environment_name: typing.Union[str, None] = None):
         ...
 
@@ -220,13 +264,13 @@
         ...
 
     @classmethod
     def from_name(cls: typing.Type[_BLOCKING_P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, environment_name: typing.Union[str, None] = None) -> _BLOCKING_P:
         ...
 
     @classmethod
-    def lookup(cls: typing.Type[_BLOCKING_P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, client: typing.Union[modal.client.Client, None] = None, environment_name: typing.Union[str, None] = None) -> _BLOCKING_H:
+    def lookup(cls: typing.Type[_BLOCKING_P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, client: typing.Union[modal.client.Client, None] = None, environment_name: typing.Union[str, None] = None) -> Handle:
         ...
 
     @classmethod
     def _exists(cls: typing.Type[_BLOCKING_P], app_name: str, tag: typing.Union[str, None] = None, namespace=1, client: typing.Union[modal.client.Client, None] = None) -> bool:
         ...
```

## modal/proxy.py

```diff
@@ -4,15 +4,15 @@
 from .object import _Handle, _Provider
 
 
 class _ProxyHandle(_Handle, type_prefix="pr"):
     pass
 
 
-class _Proxy(_Provider[_ProxyHandle]):
+class _Proxy(_Provider, type_prefix="pr"):
     """
     Proxy objects are used to setup secure tunnel connections to a private remote address, for example
     a database.
 
     Currently `modal.Proxy` objects must be setup with the assistance of Modal staff. If you require a proxy
     please contact us.
     """
```

## modal/proxy.pyi

```diff
@@ -1,17 +1,16 @@
-import __main__
 import modal.object
 
 class _ProxyHandle(modal.object._Handle):
     ...
 
-class _Proxy(modal.object._Provider[_ProxyHandle]):
+class _Proxy(modal.object._Provider):
     ...
 
 class ProxyHandle(modal.object.Handle):
     def __init__(self):
         ...
 
 
-class Proxy(modal.object.Provider[ProxyHandle]):
+class Proxy(modal.object.Provider):
     def __init__(self):
         ...
```

## modal/queue.py

```diff
@@ -127,15 +127,15 @@
 
         await retry_transient_errors(self._client.stub.QueuePut, request)
 
 
 QueueHandle = synchronize_api(_QueueHandle)
 
 
-class _Queue(_Provider[_QueueHandle]):
+class _Queue(_Provider, type_prefix="qu"):
     """A distributed, FIFO Queue available to Modal apps.
 
     The queue can contain any object serializable by `cloudpickle`.
     """
 
     @staticmethod
     def new():
```

## modal/queue.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import modal.object
 import typing
 import typing_extensions
 
 class _QueueHandle(modal.object._Handle):
     async def _get_nonblocking(self, n_values: int) -> typing.List[typing.Any]:
         ...
@@ -78,15 +77,15 @@
 
         async def aio(self, *args, **kwargs) -> None:
             ...
 
     put_many: __put_many_spec
 
 
-class _Queue(modal.object._Provider[_QueueHandle]):
+class _Queue(modal.object._Provider):
     @staticmethod
     def new():
         ...
 
     def __init__(self):
         ...
 
@@ -103,15 +102,15 @@
     async def put(self, v: typing.Any) -> None:
         ...
 
     async def put_many(self, vs: typing.List[typing.Any]) -> None:
         ...
 
 
-class Queue(modal.object.Provider[QueueHandle]):
+class Queue(modal.object.Provider):
     def __init__(self):
         ...
 
     @staticmethod
     def new():
         ...
```

## modal/sandbox.py

```diff
@@ -126,15 +126,15 @@
             return None
         return self._result.exitcode
 
 
 SandboxHandle = synchronize_api(_SandboxHandle)
 
 
-class _Sandbox(_Provider[_SandboxHandle]):
+class _Sandbox(_Provider, type_prefix="sb"):
     """mdmd:hidden"""
 
     @staticmethod
     def _new(
         entrypoint_args: Sequence[str],
         image: _Image,
         mounts: Sequence[_Mount],
```

## modal/sandbox.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import modal.client
 import modal.image
 import modal.mount
 import modal.object
 import modal_proto.api_pb2
 import typing
 import typing_extensions
@@ -76,20 +75,20 @@
         ...
 
     @property
     def returncode(self) -> typing.Union[int, None]:
         ...
 
 
-class _Sandbox(modal.object._Provider[_SandboxHandle]):
+class _Sandbox(modal.object._Provider):
     @staticmethod
     def _new(entrypoint_args: typing.Sequence[str], image: modal.image._Image, mounts: typing.Sequence[modal.mount._Mount], timeout: typing.Union[int, None] = None, workdir: typing.Union[str, None] = None) -> _SandboxHandle:
         ...
 
 
-class Sandbox(modal.object.Provider[SandboxHandle]):
+class Sandbox(modal.object.Provider):
     def __init__(self):
         ...
 
     @staticmethod
     def _new(entrypoint_args: typing.Sequence[str], image: modal.image.Image, mounts: typing.Sequence[modal.mount.Mount], timeout: typing.Union[int, None] = None, workdir: typing.Union[str, None] = None) -> SandboxHandle:
         ...
```

## modal/secret.py

```diff
@@ -18,15 +18,15 @@
 
 SecretHandle = synchronize_api(_SecretHandle)
 
 
 ENV_DICT_WRONG_TYPE_ERR = "the env_dict argument to Secret has to be a dict[str, str]"
 
 
-class _Secret(_Provider[_SecretHandle]):
+class _Secret(_Provider, type_prefix="st"):
     """Secrets provide a dictionary of environment variables for images.
 
     Secrets are a secure way to add credentials and other sensitive information
     to the containers your functions run in. You can create and edit secrets on
     [the dashboard](/secrets), or programmatically from Python code.
 
     See [the secrets guide page](/docs/guide/secrets) for more information.
```

## modal/secret.pyi

```diff
@@ -1,33 +1,32 @@
-import __main__
 import modal.object
 import typing
 
 class _SecretHandle(modal.object._Handle):
     ...
 
 class SecretHandle(modal.object.Handle):
     def __init__(self):
         ...
 
 
-class _Secret(modal.object._Provider[_SecretHandle]):
+class _Secret(modal.object._Provider):
     @staticmethod
     def from_dict(env_dict: typing.Dict[str, str] = {}, template_type=''):
         ...
 
     def __init__(self, env_dict: typing.Dict[str, str]):
         ...
 
     @staticmethod
     def from_dotenv(path=None):
         ...
 
 
-class Secret(modal.object.Provider[SecretHandle]):
+class Secret(modal.object.Provider):
     def __init__(self, env_dict: typing.Dict[str, str]):
         ...
 
     @staticmethod
     def from_dict(env_dict: typing.Dict[str, str] = {}, template_type=''):
         ...
```

## modal/volume.py

```diff
@@ -46,16 +46,16 @@
             req = api_pb2.VolumeReloadRequest(volume_id=self.object_id)
             _ = await retry_transient_errors(self._client.stub.VolumeReload, req)
 
 
 VolumeHandle = synchronize_api(_VolumeHandle)
 
 
-class _Volume(_Provider[_VolumeHandle]):
-    """A writeable volume that can be used to share files between one or more Modal functions.
+class _Volume(_Provider, type_prefix="vo"):
+    """mdmd:hidden A writeable volume that can be used to share files between one or more Modal functions.
 
     The contents of a volume is exposed as a filesystem. You can use it to share data between different functions, or
     to persist durable state across several instances of the same function.
 
     Unlike a networked filesystem, you need to explicitly reload the volume to see changes made since it was mounted.
     Similarly, you need to explicitly commit any changes you make to the volume for the changes to become visible
     outside the current task.
```

## modal/volume.pyi

```diff
@@ -1,8 +1,7 @@
-import __main__
 import asyncio.locks
 import modal.object
 import modal_proto.api_pb2
 import typing
 import typing_extensions
 
 class _VolumeHandle(modal.object._Handle):
@@ -78,15 +77,15 @@
 
         async def aio(self, *args, **kwargs):
             ...
 
     _do_reload: ___do_reload_spec
 
 
-class _Volume(modal.object._Provider[_VolumeHandle]):
+class _Volume(modal.object._Provider):
     @staticmethod
     def new() -> _Volume:
         ...
 
     @staticmethod
     def persisted(label: str, namespace=1, environment_name: typing.Union[str, None] = None) -> _Volume:
         ...
@@ -100,15 +99,15 @@
     def iterdir(self, path: str) -> typing.AsyncIterator[modal_proto.api_pb2.VolumeListFilesEntry]:
         ...
 
     async def listdir(self, path: str) -> typing.List[modal_proto.api_pb2.VolumeListFilesEntry]:
         ...
 
 
-class Volume(modal.object.Provider[VolumeHandle]):
+class Volume(modal.object.Provider):
     def __init__(self):
         ...
 
     @staticmethod
     def new() -> Volume:
         ...
```

## modal/cli/volume.py

```diff
@@ -46,15 +46,15 @@
 @synchronizer.create_blocking
 async def ls(
     volume_name: str,
     path: str = Argument(default="/"),
     env: Optional[str] = ENV_OPTION,
 ):
     ensure_env(env)
-    vol: _VolumeHandle = await _Volume.lookup(volume_name, environment_name=env)
+    vol = await _Volume.lookup(volume_name, environment_name=env)
     if not isinstance(vol, _VolumeHandle):
         raise UsageError("The specified app entity is not a modal.Volume")
 
     try:
         entries = await vol.listdir(path)
     except GRPCError as exc:
         if exc.status in (Status.INVALID_ARGUMENT, Status.NOT_FOUND):
```

## modal_version/_version_generated.py

```diff
@@ -1,2 +1,2 @@
 # Copyright Modal Labs 2023
-build_number = 2870
+build_number = 2877
```

## Comparing `modal_client-0.50.2870.dist-info/LICENSE` & `modal_client-0.50.2877.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `modal_client-0.50.2870.dist-info/METADATA` & `modal_client-0.50.2877.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: modal-client
-Version: 0.50.2870
+Version: 0.50.2877
 Summary: Python client library for Modal
 Author: Modal Labs
 Author-email: erik@modal.com
 Project-URL: Homepage, https://modal.com
 Keywords: modal,client,cloud,serverless,infrastructure
 Classifier: Topic :: System :: Distributed Computing
 Classifier: Operating System :: OS Independent
```

## Comparing `modal_client-0.50.2870.dist-info/RECORD` & `modal_client-0.50.2877.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -26,102 +26,101 @@
 client_test/mount_test.py,sha256=E53IIAYuaJv1-jMuC6bEQxWJHs77kQ1reSjMVdE9Zjk,5347
 client_test/mounted_files_test.py,sha256=9ydysR6VGH0bwHIp2KvN6YPmDoe05kbluEAr7LyU-DU,6240
 client_test/network_file_system_test.py,sha256=FLmtewdMFLgbPtou7PhEfo0b_XuGDeDCyjtV232ZjFM,5985
 client_test/notebook_test.py,sha256=IkOFP9Tat8pEazSOV73OU7QMGgOlw3sU_5vTzOigrZU,2157
 client_test/object_test.py,sha256=8gLnI9V7hGrtUM-PAYIBTmQbtGHfvxd4GA3LAz2BnBI,1429
 client_test/package_utils_test.py,sha256=5BHIMwW03ettWIZ2AqFHcD8n5FIXoEcy1g2qTyqFo3Y,413
 client_test/queue_test.py,sha256=5MkCRbDuax4uYhfh0tlKbgI5X5G5SzukIMT3HEMALD0,528
-client_test/resolver_test.py,sha256=DvjS4Xmp-i8MwJMFrbZWWSsid7RFnMUmCBkPvyO75CA,1752
+client_test/resolver_test.py,sha256=ctzG7TNeeeZHTJLN-IwxH573HOHXmkez56brbSwJLaw,1790
 client_test/retries_test.py,sha256=Q-hNmElJjxYQ0DQ0VjEzjN7fX4wZvi3YSXS5oawjxHU,1807
 client_test/runner_test.py,sha256=qdedwQqL_fqHFpHifTGxU_YqzNwrceTqNvt32msgbeU,2427
 client_test/sandbox_test.py,sha256=SRv_5cP5IE0rA4zmXewDTMtAD5Df3oNdccz34suNcE8,1616
 client_test/schedule_test.py,sha256=lyj6pHchOg_CqyJNQY8NbRUTfh-RxwAugcX5-P4b-0k,359
 client_test/secret_test.py,sha256=cCvFkKgt-0FXlSRv-Mq_6XpaJBv6gv8DoQTP4fEISCk,1185
-client_test/serialization_test.py,sha256=NT7EvZ9v-_JvqSga49UXjBSRffWy0APfZE7WoI-O7wY,1086
+client_test/serialization_test.py,sha256=VQ2LqWPVTMSYDkF3DzT-G_ipyJu6mN13qnLEcNyk7Us,1513
 client_test/stub_test.py,sha256=CgsHFi6yU8Nxuz61DlHAfZMaRjqmvS5QjPSXacwRW30,8091
 client_test/utils_test.py,sha256=rt2SZ4M5t6UyKMFEAhTPzhbExw0pZGHjvWrUi4zu98I,2690
 client_test/version_test.py,sha256=XEiHOjqHd97yuhuUiaVU22-C72XhXJXQ4wPmPJt9n08,410
 client_test/volume_test.py,sha256=0gYl5AKWQdirNuVlwgQXSpd0bajoY5_zEyfoZWWvRcY,3213
 client_test/watcher_test.py,sha256=kz--ZcsJC41gFr3-D7kKN7Co1ixn_yGqG13KdoGBomM,1160
 client_test/webhook_test.py,sha256=UY-eZbjTG2lBu-LbNvrFeVsSYDi80zta0hgJXjm06Pg,3838
 modal/__init__.py,sha256=pNA3mr2pRetNjgl89ovrHBl_Xbpt7AkdbJU4h2oR_i0,1159
 modal/__main__.py,sha256=HIOFyoYAuCrSKzWKYrUhTYZMx-BzN9-XMWlgod1cKX0,157
 modal/_asgi.py,sha256=7mRziltjlStd2lixWerBFmPpGp9fTamveVC7i98RBGo,2135
 modal/_blob_utils.py,sha256=oPPjS1XBm_JOPjbcX_9bz-yfEE3hOsW34BW88BDZFEM,13413
 modal/_container_entrypoint.py,sha256=sMKS1KDPL1iLt9OGED8_dC9aSpFNoJ5EsPudA4DE9mg,26205
 modal/_function_utils.py,sha256=6hVfx1xazHZeGkznGljTBEQfs6Z-CtVVfl35rI7EGEM,10990
 modal/_ipython.py,sha256=HF_DYy0e0qM9WnGDmTY30s1RxzGya9GeORCauCEpRaE,450
 modal/_location.py,sha256=_SdCPzVOl7HRwLWIxzTJjhdpOo1sIl4flfEJ-bAbiDE,929
-modal/_object_meta.py,sha256=iOd17GaCMZT3uZeyZY2D6GWSBYwcmKM38w7gTd7DgSw,850
 modal/_output.py,sha256=cU78LyZxCAXXrUY-jZeKitjlFsTe1yvTkzfCoFmWOEk,17814
 modal/_proxy_tunnel.py,sha256=XTB23djYwYa8PzMsiNwkIF2y3nxfOyR8CSBtLiKomFs,1785
 modal/_pty.py,sha256=1IeZUWUZq1zxt5lT6ADS31DJzM55P8XwRGusTUrs9aQ,5279
 modal/_resolver.py,sha256=BnLkWldwNHnrhkMmSM-LwiiF0gnWXXoFdr4Mjx7Sh_I,5810
-modal/_serialization.py,sha256=BfexppIGoGFVk5ZwC5ZIuJLria7ItK2Bals4hpOvEVo,1529
+modal/_serialization.py,sha256=8IecJUowJSS_Xa9Sl1o4AzrDD-BF5P5s-R7DoBv-Wcs,1892
 modal/_traceback.py,sha256=H8kaGplSQALs7nEdob2sNrv6wlpVONXbcSBDQklxWN8,7598
 modal/_tracing.py,sha256=69f2w-j0Mvh8Xz95WApYfE6NDSkAWBMIYRzGTYniFi8,1995
 modal/_types.py,sha256=vUvweCqAt0S-mni_V_EGc_rDCKgJlU5g0P8r08zl1ko,490
 modal/_watcher.py,sha256=mwQpes-FIkaR7KO0C6IzGLwZrGFv6_msmwTgJ2yo6S8,3408
 modal/aio.py,sha256=26WoS6aTr-cx5X3DmwbbLsNzXKf__IDfsrP8nbzt-D8,702
 modal/app.py,sha256=LfmoAY3V2yEVhjb2hBQIxpJP30-FCM5UWIt17jHxS5g,13411
 modal/app.pyi,sha256=dC5N-UfjiulBQTHqlACwJ_hRkWFGv7lZDL8sfN4XvrM,7683
 modal/call_graph.py,sha256=_cCMOMg7IeWNiRXdd-gJbb7pUYw2Ahl-KbXsizM6Lcg,2462
 modal/client.py,sha256=Z_3NWnUIz-H_0vmhAUDyZ0k7-Ml7HXB-oic7-qPnrYk,9478
-modal/client.pyi,sha256=_7FfuTrWGNjwAG-zVWbDqnTbvyS0CGswmN2xtEf3-tc,3966
+modal/client.pyi,sha256=NBlJW5lhodQbYCQksrvncl02nKGEXbcpohGnzoJRuIo,3966
 modal/cls.py,sha256=p0fN0rMQKsjkSdr1jdHlIQSno9qs5qK2wHhC4sYSmVw,1977
 modal/config.py,sha256=ObJHOjTFMjs257oBst1Q6zQ3aQwyT7WScfClxFg2gcc,7224
-modal/dict.py,sha256=Y-oJwsNtLXbjHUeNcQJjZIwfXIYs3YX9kaOFMX2kPO8,7671
-modal/dict.pyi,sha256=KCqFLiv-ltOCdGQPo7fCT3go_oqNnPrxrKdaRAHXsKA,7072
+modal/dict.py,sha256=8FjOGBq5to2BxOuPLldkqxGf7ldHG9qnNw53s5sAVgI,7676
+modal/dict.pyi,sha256=Wuu89TEUPmyJzu8AYo9ozTL6mRx-cUv_08wx8yjnOA4,7031
 modal/environments.py,sha256=S45gsH5p4ENP4Kzqm_JyTeCSTeP3_8_K5hstZSMStdI,2189
 modal/environments.pyi,sha256=I0CFWTrnwB_deMBNPxyc8SLnQQ6XpTNpkEOW-PXLz7U,1195
 modal/exception.py,sha256=gxHMYe7CiH1ijgGyiPe-KAxJOVkUquIMPgrOc-QIdSc,2750
-modal/functions.py,sha256=8bmmYVU3UHRFz_sET8bWX5GXgssYiAiD5XFKakP62uA,65230
-modal/functions.pyi,sha256=JBF9GPBFzw5SgSdrkBoLbevn2morJen72vIDv-OgJOM,20445
+modal/functions.py,sha256=GgdX7A85e8ttOYfz1Of5g9k3i54MtHz-k-fFufccqEA,65231
+modal/functions.pyi,sha256=ceOzyhnbEBUQvqAUf9Nx2pBGajyMt1Rv7zCC1eY3gWA,20396
 modal/gpu.py,sha256=qISvMiVdZmHXnRodgdKu35BOnHZoJYo_bWMZdaXJQLQ,4858
-modal/image.py,sha256=UJb0I2k63nxJ1lkMZi8pe5p2oQx41SFrehWglfmzCqk,49458
-modal/image.pyi,sha256=4Hih3d5mbyQQieSRY9iXTpZCWxdnspeE3w1C94Gksm4,15137
-modal/mount.py,sha256=3F2ry5T4OW7qf7PSnmnrx5d-7DLlzHarVGiViFtHKpc,15517
-modal/mount.pyi,sha256=MMQiqLCiECchL7Ug3NC3JCj6c2R1BIrqZpHKVNdy0UM,6077
-modal/network_file_system.py,sha256=irKGL-yQyI_m3ZGojHjt8DI10skjh9MQP3tCjt1anMc,11144
-modal/network_file_system.pyi,sha256=tpr0HXI6Kwtz6mvfoqN1HYddqBAIrlKlb8oIhiZaXTA,7060
-modal/object.py,sha256=Zfr-OAGFe868SD2CfkRM-vSYNVWsxD1ZGaEB8NpCuJA,13741
-modal/object.pyi,sha256=1kDuqcGCyMqO0EBB_70QBU4FeX_sMIK3JRqSM2bWfbM,8543
-modal/proxy.py,sha256=QcVqvdnt8Pd5cjtq1AKDVLeS0iiUAlkeNDUESLUATsc,623
-modal/proxy.pyi,sha256=A3rFDC6bFI911Xl0WHgganVd3XgVHRVobMofnzxmvuQ,312
+modal/image.py,sha256=HU8Mau-E34x3AYsGBH_SNuxBaVUDdvNWCIrtfSCO2e0,49317
+modal/image.pyi,sha256=NO6HEG2lrpYRhQm2OnYYWW4uZGLexszKEFTpdjq9SUY,15016
+modal/mount.py,sha256=dDduRz56lZ23-1R3BLxEqTgZ-NxUKaEMyxCMYG4c4us,15521
+modal/mount.pyi,sha256=eaCyWJx0X5NpgZHp9O0-Y1sa7WjbU6TDMxAArgrxrBk,6034
+modal/network_file_system.py,sha256=jag9gSIkEtbM4JdDEWYgrxtKH72IGDCWITJpUs_57oI,11136
+modal/network_file_system.pyi,sha256=3kaULFA-mppMRl44kK_-VKT_2qi2s_6ZARuD8VrDVJM,6993
+modal/object.py,sha256=vv31vhNdXxZQbLo9XH7siufzxJiOB26PKmNU11z4VEk,15034
+modal/object.pyi,sha256=iwXGHDG--tCUp_0uFz8CbMfWr42SczU4rGev2CEIvJ0,10177
+modal/proxy.py,sha256=Yod6VWQIJtsV_fh4pQoSoNe83zMSrtajZrmTRXrWnrw,627
+modal/proxy.pyi,sha256=MphkKeXMzYg7UqjkAz77l-EB3HgJnUoTp1yIYce4HMM,269
 modal/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-modal/queue.py,sha256=p8OvNmv9gXI71xSKuh1OGu8FfjIR9yywBydT0fJbT8s,6220
-modal/queue.pyi,sha256=6p9NYCoCTl5XYWRuj_5AYg6g-CySCbkbgBeb96vrHTg,4571
+modal/queue.py,sha256=zOcHPK6iryIJcqCRbfLL0Pp2gDMY3bEkx6-p-YXF3I8,6224
+modal/queue.pyi,sha256=hVS6Sda3o0biJztbdHomESGn9lVEXsBtoBoKluxQRt4,4528
 modal/requirements.txt,sha256=OjsbXFkCSdkzzryZP82Q73osr5wxQ6EUzmGcK7twfkA,502
 modal/retries.py,sha256=bRDYRTUNFzmjRAggCcoMViqwu-PNnqbokc_QYCf_2nc,3730
 modal/runner.py,sha256=So5jFaNXkzY4NgoeK1I81402tCfEb07R_kDojhFMOkE,9458
-modal/sandbox.py,sha256=ExpwtMTd7oTpiiVydJhU_sZZ3hOfnPJKTP3BRgnVhA4,5834
-modal/sandbox.pyi,sha256=NrYTc40XbqVw6P4cNP-fGvxIBZVvmMD9UbmPhFestNQ,2318
+modal/sandbox.py,sha256=vExuEKawmOl7GAOVHOaco-bRxYx5ihHX3BIjS0xwAoE,5836
+modal/sandbox.pyi,sha256=UdaMwmKnMM1hXmZXjBphXza_XI8XCSE7nC_Evpxctg0,2271
 modal/schedule.py,sha256=KUzkyV8bUZ1Oclx9thoR6q1ujX0JwPHkHKroJFS4X4k,2619
-modal/secret.py,sha256=myjgcwy5xg3zhb11K3HWiDc8RKL9FMq4ooCcHnwXid4,5062
-modal/secret.pyi,sha256=SskJ8Nt-wPAekVvQ6M8RGj8h9pvG1mDnEUjv-ViehCc,765
+modal/secret.py,sha256=DssC9U6l3jj7XgZ1vGxJFj8NaZ5tbHmCYIQ55hLFSH0,5065
+modal/secret.pyi,sha256=ziuW9YW-vuLOQG0HKbuWaiWPouQClo_E3TJcEJCl9yA,720
 modal/serving.py,sha256=wDFWhlG1JDPKqFazCXBHHwVO9SwcXdxi4f5VHNfyIh0,4717
 modal/shared_volume.py,sha256=CHd5axj4gyb0FRMQJLu7ES7VqFAwXawhrhmKsM2uyv0,1242
 modal/stub.py,sha256=IRUphqxtmLc7jwE49CODexriKddAHMDNCJ5u8DGsFig,24606
 modal/stub.pyi,sha256=iOnZThDnyrqn_E-B0ZK-4D-pzCV8FlWrTWIjQ6_VnKU,11848
-modal/volume.py,sha256=H5dorXdGG3IRPsEsftANbDTJdGYoVVZayiSU_Xf3HV0,7556
-modal/volume.pyi,sha256=dAAA7PNLHta--r1jMD9TJSpK0MfQmOWEtvzZO6F5duA,3832
+modal/volume.py,sha256=BCO_N3AlQOKVdyaKjDH5evdqN5J01AQOi96-vFiu5tM,7571
+modal/volume.pyi,sha256=Anuy8njqo9sSXYsoCRX1gQHgL4_feCWzZ327iXDCK58,3787
 modal/cli/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal/cli/_shared_volume.py,sha256=Hntd-bkQpkydTwNSusJgojNWWePCWTIo4NuDA_Zw3v8,1709
 modal/cli/app.py,sha256=-LCNpdADmmf0RAmnnMDY5BjvM7LZUhCDQZ3jXeWAbbE,3057
 modal/cli/config.py,sha256=ACSKAVi-qfcsGtRgwZhUrREgBq-lR_DZGf-fjlZFnWM,1360
 modal/cli/entry_point.py,sha256=ZeiPRfrsk7BzA19avcQFD0kHwZ5BBq63rrKlJEkcKgo,2039
 modal/cli/environment.py,sha256=rKgbmaoO7U8EwJX3ZbZlH8K5ZFNNmmPd9L-jkXnVkp4,3413
 modal/cli/import_refs.py,sha256=9bkES8d4ibQySpb_iril_gcVWNueW1TCpRcWqj5DzkU,10471
 modal/cli/network_file_system.py,sha256=m7YEHJQU-T8QDmKvnvumLF1xu6AQK_B0QIooxRnFDrM,10330
 modal/cli/profile.py,sha256=yMnTY8J7uPRzIZLuVhdRHFm32or_IMMUKI63XxECOIg,760
 modal/cli/run.py,sha256=ci8P7YJjVle7tZ3BvGCoPtUi_XSiokyubYOJqHY8k8w,9244
 modal/cli/secret.py,sha256=XilJ1IWrXyvDpyrJSTMyEt8TiLtLtTSTZhf93U-CakQ,4029
 modal/cli/token.py,sha256=YzpeREiEwPFcpGUWiiPo7JQvfLxZcsC5qJilCVh4CeI,3121
 modal/cli/utils.py,sha256=ECV47_brgvNMe8D2i6WbO6pnenJVAGFXgzV2YX9owxU,1889
-modal/cli/volume.py,sha256=0akexD-RA1LkjFytsSQQWIBPlSizkTfzvf2yvounoGE,2895
+modal/cli/volume.py,sha256=I-7JDW9CHOiMl12RK5CCF_ntkpc0zJUn4nBj8ZKZKQI,2880
 modal/extensions/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal/extensions/ipython.py,sha256=pOFgBz4jFZtovwE_2qAOFiKwEVb4aZOA3oDbqOX2Gjo,987
 modal/extensions/pymc.py,sha256=NI9NWFhZ0RW73X5HwbQf1Le6xaR6Mg7CrqeWVa8y4ek,6220
 modal_base_images/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal_base_images/client_mount.py,sha256=k6wMYYGgpXhM9AF7YJQhyKh8lTUF-7vHKDuuXGUFH_Y,730
 modal_base_images/conda.py,sha256=5Tqd_62p7zGwVezJj1Qp2Vcxtt2WHWVBMzMNbjuNW-M,324
 modal_base_images/debian_slim.py,sha256=9iB8L0tuEDWas3Mge1jyGvfBXiKsJpcjqJT5M1fWRos,330
@@ -161,14 +160,14 @@
 modal_utils/grpc_testing.py,sha256=4OZcs7dD6WvK3hWg9u0sPx2Fl_ZoJsW7M2LHAn0n_us,6538
 modal_utils/grpc_utils.py,sha256=_8TKgTaztP8fjlT63K2j1glfnwotgAXywEREH9ssjpQ,9320
 modal_utils/hash_utils.py,sha256=YOE1LZwyqaTQSZajrF-H_5_iJkjxMclJewC0SgH_8xA,1597
 modal_utils/http_utils.py,sha256=DGKvrSQxAHjP_LNdM6EaL-TIQPGDX5vt3gcMGg2xkz4,1426
 modal_utils/logger.py,sha256=odPE0R8_9GkufC_74wqolLikZVIbdxmwDF5xeoILklU,113
 modal_utils/package_utils.py,sha256=TLF7GygWqsqZpL-dVnchts55IcTwkMPFLBGeZjuRXCw,1226
 modal_version/__init__.py,sha256=4HAjuKbNhfE463OlLVk6aZlZ7bPvEm90fXDuz6wyxRs,458
-modal_version/_version_generated.py,sha256=K15FPk5KtZwx2__nZkbbEaDQ5pRESOaFkAnB0j4GPYY,48
-modal_client-0.50.2870.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
-modal_client-0.50.2870.dist-info/METADATA,sha256=Hopxh5CrCS9KiwKCkJvFvA2y0TGQk8g0XKYLyqr4aZY,1923
-modal_client-0.50.2870.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-modal_client-0.50.2870.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
-modal_client-0.50.2870.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
-modal_client-0.50.2870.dist-info/RECORD,,
+modal_version/_version_generated.py,sha256=zDtFFxVRtWy-H2UzZcda0ri3NKZxMFjbGI37JvdeHY0,48
+modal_client-0.50.2877.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
+modal_client-0.50.2877.dist-info/METADATA,sha256=BpV2w0XK_WYuGjjgacacgOqL0OpLVpp8vWNqapsSGkc,1923
+modal_client-0.50.2877.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+modal_client-0.50.2877.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
+modal_client-0.50.2877.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
+modal_client-0.50.2877.dist-info/RECORD,,
```

